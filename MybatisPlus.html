
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="Yank Note" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>MybatisPlus</title>
    <style>
          article.markdown-body { max-width: 1024px; margin: 20px auto; }html { line-height: 1.15; text-size-adjust: 100%; }
body { margin: 0px; }
main { display: block; }
h1 { font-size: 2em; margin: 0.67em 0px; }
hr { box-sizing: content-box; height: 0px; overflow: visible; }
pre { font-family: monospace, monospace; font-size: 1em; }
a { background-color: transparent; }
abbr[title] { border-bottom: none; text-decoration: underline dotted; }
b, strong { font-weight: bolder; }
code, kbd, samp { font-family: monospace, monospace; font-size: 1em; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sub { bottom: -0.25em; }
sup { top: -0.5em; }
img { border-style: none; }
button, input, optgroup, select, textarea { font-family: inherit; font-size: 100%; line-height: 1.15; margin: 0px; }
button, input { overflow: visible; }
button, select { text-transform: none; }
button, [type="button"], [type="reset"], [type="submit"] { appearance: button; }
fieldset { padding: 0.35em 0.75em 0.625em; }
legend { box-sizing: border-box; color: inherit; display: table; max-width: 100%; padding: 0px; white-space: normal; }
progress { vertical-align: baseline; }
textarea { overflow: auto; }
[type="checkbox"], [type="radio"] { box-sizing: border-box; padding: 0px; }
[type="number"]::-webkit-inner-spin-button, [type="number"]::-webkit-outer-spin-button { height: auto; }
[type="search"] { appearance: textfield; outline-offset: -2px; }
[type="search"]::-webkit-search-decoration { appearance: none; }
::-webkit-file-upload-button { appearance: button; font: inherit; }
details { display: block; }
summary { display: list-item; }
template { display: none; }
[hidden] { display: none; }
html[app-theme="light"]:root, :root { --g-background-color: #fff; --g-foreground-color: #24292f; --g-color-0: #24292f; --g-color-1: #262b31; --g-color-2: #282d33; --g-color-3: #2b2f35; --g-color-4: #2d3237; --g-color-5: #2f3439; --g-color-6: #31363b; --g-color-7: #33383e; --g-color-8: #363a40; --g-color-9: #383c42; --g-color-10: #3a3e44; --g-color-11: #3c4146; --g-color-12: #3e4348; --g-color-13: #40454a; --g-color-14: #43474c; --g-color-15: #45494e; --g-color-16: #474b50; --g-color-17: #494d52; --g-color-18: #4b5054; --g-color-19: #4e5257; --g-color-20: #505459; --g-color-21: #52565b; --g-color-22: #54585d; --g-color-23: #565a5f; --g-color-24: #595c61; --g-color-25: #5b5f63; --g-color-26: #5d6165; --g-color-27: #5f6367; --g-color-28: #616569; --g-color-29: #64676b; --g-color-30: #66696d; --g-color-31: #686b6f; --g-color-32: #6a6d72; --g-color-33: #6c7074; --g-color-34: #6e7276; --g-color-35: #717478; --g-color-36: #73767a; --g-color-37: #75787c; --g-color-38: #777a7e; --g-color-39: #797c80; --g-color-40: #7c7f82; --g-color-41: #7e8184; --g-color-42: #808386; --g-color-43: #828588; --g-color-44: #84878b; --g-color-45: #87898d; --g-color-46: #898b8f; --g-color-47: #8b8e91; --g-color-48: #8d9093; --g-color-49: #8f9295; --g-color-50: #929497; --g-color-51: #949699; --g-color-52: #96989b; --g-color-53: #989a9d; --g-color-54: #9a9d9f; --g-color-55: #9c9fa1; --g-color-56: #9fa1a3; --g-color-57: #a1a3a6; --g-color-58: #a3a5a8; --g-color-59: #a5a7aa; --g-color-60: #a7a9ac; --g-color-61: #aaacae; --g-color-62: #acaeb0; --g-color-63: #aeb0b2; --g-color-64: #b0b2b4; --g-color-65: #b2b4b6; --g-color-66: #b5b6b8; --g-color-67: #b7b8ba; --g-color-68: #b9bbbc; --g-color-69: #bbbdbf; --g-color-70: #bdbfc1; --g-color-71: #bfc1c3; --g-color-72: #c2c3c5; --g-color-73: #c4c5c7; --g-color-74: #c6c7c9; --g-color-75: #c8cacb; --g-color-76: #cacccd; --g-color-77: #cdcecf; --g-color-78: #cfd0d1; --g-color-79: #d1d2d3; --g-color-80: #d3d4d5; --g-color-81: #d5d6d7; --g-color-82: #d8d8da; --g-color-83: #dadbdc; --g-color-84: #dcddde; --g-color-85: #dedfe0; --g-color-86: #e0e1e2; --g-color-87: #e3e3e4; --g-color-88: #e5e5e6; --g-color-89: #e7e7e8; --g-color-90: #e9eaea; --g-color-91: #ebecec; --g-color-92: #edeeee; --g-color-93: #f0f0f0; --g-color-94: #f2f2f3; --g-color-95: #f4f4f5; --g-color-96: #f6f6f7; --g-color-97: #f8f9f9; --g-color-98: #fbfbfb; --g-color-99: #fdfdfd; --g-color-100: white; --selection-color: rgba(86, 155, 214, 0.38); --scrollbar-shadow-color: rgba(36, 41, 47, 0.1); --scrollbar-track-background-color: rgba(36, 41, 47, 0.08); --scrollbar-thumb-background-color: rgba(36, 41, 47, 0.1); --scrollbar-thumb-hover-background-color: rgba(36, 41, 47, 0.3); --g-border-radius: 4px; }
html { outline: none; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; accent-color: rgb(20, 112, 251); }
::selection { background: var(--selection-color); }
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { border-radius: var(--g-border-radius); background: var(--scrollbar-track-background-color); box-shadow: inset 0 0 5px var(--scrollbar-shadow-color); }
::-webkit-scrollbar-thumb { border-radius: var(--g-border-radius); background: var(--scrollbar-thumb-background-color); box-shadow: inset 0 0 6px var(--scrollbar-shadow-color); }
::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-thumb-hover-background-color); }
.avoid-page-break { break-inside: avoid; }
.new-page { break-before: page; }
.bgw { background-color: rgb(255, 255, 255) !important; }
.inline { display: inline !important; }
.block { display: block !important; }
.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.with-border { border: 1px solid var(--g-color-80); border-radius: var(--g-border-radius); }
.katex { text-rendering: auto; font: 1.21em / 1.2 KaTeX_Main, "Times New Roman", serif; text-indent: 0px; }
.katex * { border-color: currentcolor; }
.katex .katex-version::after { content: "0.15.3"; }
.katex .katex-mathml { clip: rect(1px, 1px, 1px, 1px); border: 0px; height: 1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; }
.katex .katex-html > .newline { display: block; }
.katex .base { position: relative; white-space: nowrap; width: min-content; }
.katex .base, .katex .strut { display: inline-block; }
.katex .textbf { font-weight: 700; }
.katex .textit { font-style: italic; }
.katex .textrm { font-family: KaTeX_Main; }
.katex .textsf { font-family: KaTeX_SansSerif; }
.katex .texttt { font-family: KaTeX_Typewriter; }
.katex .mathnormal { font-family: KaTeX_Math; font-style: italic; }
.katex .mathit { font-family: KaTeX_Main; font-style: italic; }
.katex .mathrm { font-style: normal; }
.katex .mathbf { font-family: KaTeX_Main; font-weight: 700; }
.katex .boldsymbol { font-family: KaTeX_Math; font-style: italic; font-weight: 700; }
.katex .amsrm, .katex .mathbb, .katex .textbb { font-family: KaTeX_AMS; }
.katex .mathcal { font-family: KaTeX_Caligraphic; }
.katex .mathfrak, .katex .textfrak { font-family: KaTeX_Fraktur; }
.katex .mathtt { font-family: KaTeX_Typewriter; }
.katex .mathscr, .katex .textscr { font-family: KaTeX_Script; }
.katex .mathsf, .katex .textsf { font-family: KaTeX_SansSerif; }
.katex .mathboldsf, .katex .textboldsf { font-family: KaTeX_SansSerif; font-weight: 700; }
.katex .mathitsf, .katex .textitsf { font-family: KaTeX_SansSerif; font-style: italic; }
.katex .mainrm { font-family: KaTeX_Main; font-style: normal; }
.katex .vlist-t { border-collapse: collapse; display: inline-table; table-layout: fixed; }
.katex .vlist-r { display: table-row; }
.katex .vlist { display: table-cell; position: relative; vertical-align: bottom; }
.katex .vlist > span { display: block; height: 0px; position: relative; }
.katex .vlist > span > span { display: inline-block; }
.katex .vlist > span > .pstrut { overflow: hidden; width: 0px; }
.katex .vlist-t2 { margin-right: -2px; }
.katex .vlist-s { display: table-cell; font-size: 1px; min-width: 2px; vertical-align: bottom; width: 2px; }
.katex .vbox { align-items: baseline; display: inline-flex; flex-direction: column; }
.katex .hbox { width: 100%; }
.katex .hbox, .katex .thinbox { display: inline-flex; flex-direction: row; }
.katex .thinbox { max-width: 0px; width: 0px; }
.katex .msupsub { text-align: left; }
.katex .mfrac > span > span { text-align: center; }
.katex .mfrac .frac-line { border-bottom-style: solid; display: inline-block; width: 100%; }
.katex .hdashline, .katex .hline, .katex .mfrac .frac-line, .katex .overline .overline-line, .katex .rule, .katex .underline .underline-line { min-height: 1px; }
.katex .mspace { display: inline-block; }
.katex .clap, .katex .llap, .katex .rlap { position: relative; width: 0px; }
.katex .clap > .inner, .katex .llap > .inner, .katex .rlap > .inner { position: absolute; }
.katex .clap > .fix, .katex .llap > .fix, .katex .rlap > .fix { display: inline-block; }
.katex .llap > .inner { right: 0px; }
.katex .clap > .inner, .katex .rlap > .inner { left: 0px; }
.katex .clap > .inner > span { margin-left: -50%; margin-right: 50%; }
.katex .rule { border: 0px solid; display: inline-block; position: relative; }
.katex .hline, .katex .overline .overline-line, .katex .underline .underline-line { border-bottom-style: solid; display: inline-block; width: 100%; }
.katex .hdashline { border-bottom-style: dashed; display: inline-block; width: 100%; }
.katex .sqrt > .root { margin-left: 0.277778em; margin-right: -0.555556em; }
.katex .fontsize-ensurer.reset-size1.size1, .katex .sizing.reset-size1.size1 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size1.size2, .katex .sizing.reset-size1.size2 { font-size: 1.2em; }
.katex .fontsize-ensurer.reset-size1.size3, .katex .sizing.reset-size1.size3 { font-size: 1.4em; }
.katex .fontsize-ensurer.reset-size1.size4, .katex .sizing.reset-size1.size4 { font-size: 1.6em; }
.katex .fontsize-ensurer.reset-size1.size5, .katex .sizing.reset-size1.size5 { font-size: 1.8em; }
.katex .fontsize-ensurer.reset-size1.size6, .katex .sizing.reset-size1.size6 { font-size: 2em; }
.katex .fontsize-ensurer.reset-size1.size7, .katex .sizing.reset-size1.size7 { font-size: 2.4em; }
.katex .fontsize-ensurer.reset-size1.size8, .katex .sizing.reset-size1.size8 { font-size: 2.88em; }
.katex .fontsize-ensurer.reset-size1.size9, .katex .sizing.reset-size1.size9 { font-size: 3.456em; }
.katex .fontsize-ensurer.reset-size1.size10, .katex .sizing.reset-size1.size10 { font-size: 4.148em; }
.katex .fontsize-ensurer.reset-size1.size11, .katex .sizing.reset-size1.size11 { font-size: 4.976em; }
.katex .fontsize-ensurer.reset-size2.size1, .katex .sizing.reset-size2.size1 { font-size: 0.833333em; }
.katex .fontsize-ensurer.reset-size2.size2, .katex .sizing.reset-size2.size2 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size2.size3, .katex .sizing.reset-size2.size3 { font-size: 1.16667em; }
.katex .fontsize-ensurer.reset-size2.size4, .katex .sizing.reset-size2.size4 { font-size: 1.33333em; }
.katex .fontsize-ensurer.reset-size2.size5, .katex .sizing.reset-size2.size5 { font-size: 1.5em; }
.katex .fontsize-ensurer.reset-size2.size6, .katex .sizing.reset-size2.size6 { font-size: 1.66667em; }
.katex .fontsize-ensurer.reset-size2.size7, .katex .sizing.reset-size2.size7 { font-size: 2em; }
.katex .fontsize-ensurer.reset-size2.size8, .katex .sizing.reset-size2.size8 { font-size: 2.4em; }
.katex .fontsize-ensurer.reset-size2.size9, .katex .sizing.reset-size2.size9 { font-size: 2.88em; }
.katex .fontsize-ensurer.reset-size2.size10, .katex .sizing.reset-size2.size10 { font-size: 3.45667em; }
.katex .fontsize-ensurer.reset-size2.size11, .katex .sizing.reset-size2.size11 { font-size: 4.14667em; }
.katex .fontsize-ensurer.reset-size3.size1, .katex .sizing.reset-size3.size1 { font-size: 0.714286em; }
.katex .fontsize-ensurer.reset-size3.size2, .katex .sizing.reset-size3.size2 { font-size: 0.857143em; }
.katex .fontsize-ensurer.reset-size3.size3, .katex .sizing.reset-size3.size3 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size3.size4, .katex .sizing.reset-size3.size4 { font-size: 1.14286em; }
.katex .fontsize-ensurer.reset-size3.size5, .katex .sizing.reset-size3.size5 { font-size: 1.28571em; }
.katex .fontsize-ensurer.reset-size3.size6, .katex .sizing.reset-size3.size6 { font-size: 1.42857em; }
.katex .fontsize-ensurer.reset-size3.size7, .katex .sizing.reset-size3.size7 { font-size: 1.71429em; }
.katex .fontsize-ensurer.reset-size3.size8, .katex .sizing.reset-size3.size8 { font-size: 2.05714em; }
.katex .fontsize-ensurer.reset-size3.size9, .katex .sizing.reset-size3.size9 { font-size: 2.46857em; }
.katex .fontsize-ensurer.reset-size3.size10, .katex .sizing.reset-size3.size10 { font-size: 2.96286em; }
.katex .fontsize-ensurer.reset-size3.size11, .katex .sizing.reset-size3.size11 { font-size: 3.55429em; }
.katex .fontsize-ensurer.reset-size4.size1, .katex .sizing.reset-size4.size1 { font-size: 0.625em; }
.katex .fontsize-ensurer.reset-size4.size2, .katex .sizing.reset-size4.size2 { font-size: 0.75em; }
.katex .fontsize-ensurer.reset-size4.size3, .katex .sizing.reset-size4.size3 { font-size: 0.875em; }
.katex .fontsize-ensurer.reset-size4.size4, .katex .sizing.reset-size4.size4 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size4.size5, .katex .sizing.reset-size4.size5 { font-size: 1.125em; }
.katex .fontsize-ensurer.reset-size4.size6, .katex .sizing.reset-size4.size6 { font-size: 1.25em; }
.katex .fontsize-ensurer.reset-size4.size7, .katex .sizing.reset-size4.size7 { font-size: 1.5em; }
.katex .fontsize-ensurer.reset-size4.size8, .katex .sizing.reset-size4.size8 { font-size: 1.8em; }
.katex .fontsize-ensurer.reset-size4.size9, .katex .sizing.reset-size4.size9 { font-size: 2.16em; }
.katex .fontsize-ensurer.reset-size4.size10, .katex .sizing.reset-size4.size10 { font-size: 2.5925em; }
.katex .fontsize-ensurer.reset-size4.size11, .katex .sizing.reset-size4.size11 { font-size: 3.11em; }
.katex .fontsize-ensurer.reset-size5.size1, .katex .sizing.reset-size5.size1 { font-size: 0.555556em; }
.katex .fontsize-ensurer.reset-size5.size2, .katex .sizing.reset-size5.size2 { font-size: 0.666667em; }
.katex .fontsize-ensurer.reset-size5.size3, .katex .sizing.reset-size5.size3 { font-size: 0.777778em; }
.katex .fontsize-ensurer.reset-size5.size4, .katex .sizing.reset-size5.size4 { font-size: 0.888889em; }
.katex .fontsize-ensurer.reset-size5.size5, .katex .sizing.reset-size5.size5 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size5.size6, .katex .sizing.reset-size5.size6 { font-size: 1.11111em; }
.katex .fontsize-ensurer.reset-size5.size7, .katex .sizing.reset-size5.size7 { font-size: 1.33333em; }
.katex .fontsize-ensurer.reset-size5.size8, .katex .sizing.reset-size5.size8 { font-size: 1.6em; }
.katex .fontsize-ensurer.reset-size5.size9, .katex .sizing.reset-size5.size9 { font-size: 1.92em; }
.katex .fontsize-ensurer.reset-size5.size10, .katex .sizing.reset-size5.size10 { font-size: 2.30444em; }
.katex .fontsize-ensurer.reset-size5.size11, .katex .sizing.reset-size5.size11 { font-size: 2.76444em; }
.katex .fontsize-ensurer.reset-size6.size1, .katex .sizing.reset-size6.size1 { font-size: 0.5em; }
.katex .fontsize-ensurer.reset-size6.size2, .katex .sizing.reset-size6.size2 { font-size: 0.6em; }
.katex .fontsize-ensurer.reset-size6.size3, .katex .sizing.reset-size6.size3 { font-size: 0.7em; }
.katex .fontsize-ensurer.reset-size6.size4, .katex .sizing.reset-size6.size4 { font-size: 0.8em; }
.katex .fontsize-ensurer.reset-size6.size5, .katex .sizing.reset-size6.size5 { font-size: 0.9em; }
.katex .fontsize-ensurer.reset-size6.size6, .katex .sizing.reset-size6.size6 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size6.size7, .katex .sizing.reset-size6.size7 { font-size: 1.2em; }
.katex .fontsize-ensurer.reset-size6.size8, .katex .sizing.reset-size6.size8 { font-size: 1.44em; }
.katex .fontsize-ensurer.reset-size6.size9, .katex .sizing.reset-size6.size9 { font-size: 1.728em; }
.katex .fontsize-ensurer.reset-size6.size10, .katex .sizing.reset-size6.size10 { font-size: 2.074em; }
.katex .fontsize-ensurer.reset-size6.size11, .katex .sizing.reset-size6.size11 { font-size: 2.488em; }
.katex .fontsize-ensurer.reset-size7.size1, .katex .sizing.reset-size7.size1 { font-size: 0.416667em; }
.katex .fontsize-ensurer.reset-size7.size2, .katex .sizing.reset-size7.size2 { font-size: 0.5em; }
.katex .fontsize-ensurer.reset-size7.size3, .katex .sizing.reset-size7.size3 { font-size: 0.583333em; }
.katex .fontsize-ensurer.reset-size7.size4, .katex .sizing.reset-size7.size4 { font-size: 0.666667em; }
.katex .fontsize-ensurer.reset-size7.size5, .katex .sizing.reset-size7.size5 { font-size: 0.75em; }
.katex .fontsize-ensurer.reset-size7.size6, .katex .sizing.reset-size7.size6 { font-size: 0.833333em; }
.katex .fontsize-ensurer.reset-size7.size7, .katex .sizing.reset-size7.size7 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size7.size8, .katex .sizing.reset-size7.size8 { font-size: 1.2em; }
.katex .fontsize-ensurer.reset-size7.size9, .katex .sizing.reset-size7.size9 { font-size: 1.44em; }
.katex .fontsize-ensurer.reset-size7.size10, .katex .sizing.reset-size7.size10 { font-size: 1.72833em; }
.katex .fontsize-ensurer.reset-size7.size11, .katex .sizing.reset-size7.size11 { font-size: 2.07333em; }
.katex .fontsize-ensurer.reset-size8.size1, .katex .sizing.reset-size8.size1 { font-size: 0.347222em; }
.katex .fontsize-ensurer.reset-size8.size2, .katex .sizing.reset-size8.size2 { font-size: 0.416667em; }
.katex .fontsize-ensurer.reset-size8.size3, .katex .sizing.reset-size8.size3 { font-size: 0.486111em; }
.katex .fontsize-ensurer.reset-size8.size4, .katex .sizing.reset-size8.size4 { font-size: 0.555556em; }
.katex .fontsize-ensurer.reset-size8.size5, .katex .sizing.reset-size8.size5 { font-size: 0.625em; }
.katex .fontsize-ensurer.reset-size8.size6, .katex .sizing.reset-size8.size6 { font-size: 0.694444em; }
.katex .fontsize-ensurer.reset-size8.size7, .katex .sizing.reset-size8.size7 { font-size: 0.833333em; }
.katex .fontsize-ensurer.reset-size8.size8, .katex .sizing.reset-size8.size8 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size8.size9, .katex .sizing.reset-size8.size9 { font-size: 1.2em; }
.katex .fontsize-ensurer.reset-size8.size10, .katex .sizing.reset-size8.size10 { font-size: 1.44028em; }
.katex .fontsize-ensurer.reset-size8.size11, .katex .sizing.reset-size8.size11 { font-size: 1.72778em; }
.katex .fontsize-ensurer.reset-size9.size1, .katex .sizing.reset-size9.size1 { font-size: 0.289352em; }
.katex .fontsize-ensurer.reset-size9.size2, .katex .sizing.reset-size9.size2 { font-size: 0.347222em; }
.katex .fontsize-ensurer.reset-size9.size3, .katex .sizing.reset-size9.size3 { font-size: 0.405093em; }
.katex .fontsize-ensurer.reset-size9.size4, .katex .sizing.reset-size9.size4 { font-size: 0.462963em; }
.katex .fontsize-ensurer.reset-size9.size5, .katex .sizing.reset-size9.size5 { font-size: 0.520833em; }
.katex .fontsize-ensurer.reset-size9.size6, .katex .sizing.reset-size9.size6 { font-size: 0.578704em; }
.katex .fontsize-ensurer.reset-size9.size7, .katex .sizing.reset-size9.size7 { font-size: 0.694444em; }
.katex .fontsize-ensurer.reset-size9.size8, .katex .sizing.reset-size9.size8 { font-size: 0.833333em; }
.katex .fontsize-ensurer.reset-size9.size9, .katex .sizing.reset-size9.size9 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size9.size10, .katex .sizing.reset-size9.size10 { font-size: 1.20023em; }
.katex .fontsize-ensurer.reset-size9.size11, .katex .sizing.reset-size9.size11 { font-size: 1.43981em; }
.katex .fontsize-ensurer.reset-size10.size1, .katex .sizing.reset-size10.size1 { font-size: 0.24108em; }
.katex .fontsize-ensurer.reset-size10.size2, .katex .sizing.reset-size10.size2 { font-size: 0.289296em; }
.katex .fontsize-ensurer.reset-size10.size3, .katex .sizing.reset-size10.size3 { font-size: 0.337512em; }
.katex .fontsize-ensurer.reset-size10.size4, .katex .sizing.reset-size10.size4 { font-size: 0.385728em; }
.katex .fontsize-ensurer.reset-size10.size5, .katex .sizing.reset-size10.size5 { font-size: 0.433944em; }
.katex .fontsize-ensurer.reset-size10.size6, .katex .sizing.reset-size10.size6 { font-size: 0.48216em; }
.katex .fontsize-ensurer.reset-size10.size7, .katex .sizing.reset-size10.size7 { font-size: 0.578592em; }
.katex .fontsize-ensurer.reset-size10.size8, .katex .sizing.reset-size10.size8 { font-size: 0.694311em; }
.katex .fontsize-ensurer.reset-size10.size9, .katex .sizing.reset-size10.size9 { font-size: 0.833173em; }
.katex .fontsize-ensurer.reset-size10.size10, .katex .sizing.reset-size10.size10 { font-size: 1em; }
.katex .fontsize-ensurer.reset-size10.size11, .katex .sizing.reset-size10.size11 { font-size: 1.19961em; }
.katex .fontsize-ensurer.reset-size11.size1, .katex .sizing.reset-size11.size1 { font-size: 0.200965em; }
.katex .fontsize-ensurer.reset-size11.size2, .katex .sizing.reset-size11.size2 { font-size: 0.241158em; }
.katex .fontsize-ensurer.reset-size11.size3, .katex .sizing.reset-size11.size3 { font-size: 0.28135em; }
.katex .fontsize-ensurer.reset-size11.size4, .katex .sizing.reset-size11.size4 { font-size: 0.321543em; }
.katex .fontsize-ensurer.reset-size11.size5, .katex .sizing.reset-size11.size5 { font-size: 0.361736em; }
.katex .fontsize-ensurer.reset-size11.size6, .katex .sizing.reset-size11.size6 { font-size: 0.401929em; }
.katex .fontsize-ensurer.reset-size11.size7, .katex .sizing.reset-size11.size7 { font-size: 0.482315em; }
.katex .fontsize-ensurer.reset-size11.size8, .katex .sizing.reset-size11.size8 { font-size: 0.578778em; }
.katex .fontsize-ensurer.reset-size11.size9, .katex .sizing.reset-size11.size9 { font-size: 0.694534em; }
.katex .fontsize-ensurer.reset-size11.size10, .katex .sizing.reset-size11.size10 { font-size: 0.833601em; }
.katex .fontsize-ensurer.reset-size11.size11, .katex .sizing.reset-size11.size11 { font-size: 1em; }
.katex .delimsizing.size1 { font-family: KaTeX_Size1; }
.katex .delimsizing.size2 { font-family: KaTeX_Size2; }
.katex .delimsizing.size3 { font-family: KaTeX_Size3; }
.katex .delimsizing.size4 { font-family: KaTeX_Size4; }
.katex .delimsizing.mult .delim-size1 > span { font-family: KaTeX_Size1; }
.katex .delimsizing.mult .delim-size4 > span { font-family: KaTeX_Size4; }
.katex .nulldelimiter { display: inline-block; width: 0.12em; }
.katex .delimcenter, .katex .op-symbol { position: relative; }
.katex .op-symbol.small-op { font-family: KaTeX_Size1; }
.katex .op-symbol.large-op { font-family: KaTeX_Size2; }
.katex .accent > .vlist-t, .katex .op-limits > .vlist-t { text-align: center; }
.katex .accent .accent-body { position: relative; }
.katex .accent .accent-body:not(.accent-full) { width: 0px; }
.katex .overlay { display: block; }
.katex .mtable .vertical-separator { display: inline-block; min-width: 1px; }
.katex .mtable .arraycolsep { display: inline-block; }
.katex .mtable .col-align-c > .vlist-t { text-align: center; }
.katex .mtable .col-align-l > .vlist-t { text-align: left; }
.katex .mtable .col-align-r > .vlist-t { text-align: right; }
.katex .svg-align { text-align: left; }
.katex svg { fill: currentcolor; stroke: currentcolor; fill-rule: nonzero; fill-opacity: 1; stroke-width: 1; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-dasharray: none; stroke-dashoffset: 0; stroke-opacity: 1; display: block; height: inherit; position: absolute; width: 100%; }
.katex svg path { stroke: none; }
.katex img { border-style: none; max-height: none; max-width: none; min-height: 0px; min-width: 0px; }
.katex .stretchy { display: block; overflow: hidden; position: relative; width: 100%; }
.katex .stretchy::after, .katex .stretchy::before { content: ""; }
.katex .hide-tail { overflow: hidden; position: relative; width: 100%; }
.katex .halfarrow-left { left: 0px; overflow: hidden; position: absolute; width: 50.2%; }
.katex .halfarrow-right { overflow: hidden; position: absolute; right: 0px; width: 50.2%; }
.katex .brace-left { left: 0px; overflow: hidden; position: absolute; width: 25.1%; }
.katex .brace-center { left: 25%; overflow: hidden; position: absolute; width: 50%; }
.katex .brace-right { overflow: hidden; position: absolute; right: 0px; width: 25.1%; }
.katex .x-arrow-pad { padding: 0px 0.5em; }
.katex .cd-arrow-pad { padding: 0px 0.55556em 0px 0.27778em; }
.katex .mover, .katex .munder, .katex .x-arrow { text-align: center; }
.katex .boxpad { padding: 0px 0.3em; }
.katex .fbox, .katex .fcolorbox { border: 0.04em solid; box-sizing: border-box; }
.katex .cancel-pad { padding: 0px 0.2em; }
.katex .cancel-lap { margin-left: -0.2em; margin-right: -0.2em; }
.katex .sout { border-bottom-style: solid; border-bottom-width: 0.08em; }
.katex .angl { border-right: 0.049em solid; border-top: 0.049em solid; box-sizing: border-box; margin-right: 0.03889em; }
.katex .anglpad { padding: 0px 0.03889em; }
.katex .eqn-num::before { content: "(" counter(katexEqnNo) ")"; counter-increment: katexEqnNo 1; }
.katex .mml-eqn-num::before { content: "(" counter(mmlEqnNo) ")"; counter-increment: mmlEqnNo 1; }
.katex .mtr-glue { width: 50%; }
.katex .cd-vert-arrow { display: inline-block; position: relative; }
.katex .cd-label-left { display: inline-block; position: absolute; right: calc(50% + 0.3em); text-align: left; }
.katex .cd-label-right { display: inline-block; left: calc(50% + 0.3em); position: absolute; text-align: right; }
.katex-display { display: block; margin: 1em 0px; text-align: center; }
.katex-display > .katex { display: block; text-align: center; white-space: nowrap; }
.katex-display > .katex > .katex-html { display: block; position: relative; }
.katex-display > .katex > .katex-html > .tag { position: absolute; right: 0px; }
.katex-display.leqno > .katex > .katex-html > .tag { left: 0px; right: auto; }
.katex-display.fleqn > .katex { padding-left: 2em; text-align: left; }
.markdown-view.presentation .markdown-body[data-v-49d3f3e0] { margin-top: 0px; }
.markdown-body { position: relative; }
.markdown-body mark { background: rgb(255, 248, 197) !important; }
.markdown-body fieldset { border-style: solid; border-width: 1px; border-radius: var(--g-border-radius); margin: 20px 0px; }
.markdown-body fieldset legend { padding: 0px 0.2em; }
.markdown-body table { display: table; }
.markdown-body hr { border-bottom: 1px solid; }
.markdown-body img { display: block; margin-left: auto; margin-right: auto; }
.markdown-body img.inline, .markdown-body img[src*=".inline"], .markdown-body img[origin-src*=".inline"] { display: inline; background: unset; }
.markdown-body img.bgw, .markdown-body img[src*=".bgw"], .markdown-body img[origin-src*=".bgw"] { background-color: rgb(255, 255, 255); }
.markdown-body a:not([href^="#fn"])[href^="#"]::after { width: 11px; content: url("data:image/svg+xml,%3Csvg%20aria-hidden%3D%22true%22%20focusable%3D%22false%22%20data-prefix%3D%22far%22%20data-icon%3D%22anchor%22%20role%3D%22img%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20576%20512%22%20class%3D%22svg-inline--fa%20fa-anchor%20fa-w-18%22%3E%3Cpath%20fill%3D%22%23999999%22%20d%3D%22M571.515%20331.515l-67.029-67.029c-4.686-4.686-12.284-4.686-16.971%200l-67.029%2067.029c-7.56%207.56-2.206%2020.485%208.485%2020.485h44.268C453.531%20417.326%20380.693%20456.315%20312%20462.865V216h60c6.627%200%2012-5.373%2012-12v-24c0-6.627-5.373-12-12-12h-60v-11.668c32.456-10.195%2056-40.512%2056-76.332%200-44.183-35.817-80-80-80s-80%2035.817-80%2080c0%2035.82%2023.544%2066.138%2056%2076.332V168h-60c-6.627%200-12%205.373-12%2012v24c0%206.627%205.373%2012%2012%2012h60v246.865C195.192%20456.304%20122.424%20417.176%20102.762%20352h44.268c10.691%200%2016.045-12.926%208.485-20.485l-67.029-67.029c-4.686-4.686-12.284-4.686-16.971%200l-67.03%2067.029C-3.074%20339.074%202.28%20352%2012.971%20352h40.284C73.657%20451.556%20181.238%20512%20288%20512c113.135%200%20215.338-65.3%20234.745-160h40.284c10.691%200%2016.045-12.926%208.486-20.485zM288%2048c17.645%200%2032%2014.355%2032%2032s-14.355%2032-32%2032-32-14.355-32-32%2014.355-32%2032-32z%22%20class%3D%22%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E"); box-sizing: content-box; padding-left: 1px; padding-right: 1px; display: inline-block; vertical-align: baseline; }
.markdown-body a[href$=".md"]::after, .markdown-body a[href*=".md#"]::after { width: 9px; content: url("data:image/svg+xml,%3Csvg%20aria-hidden%3D%22true%22%20focusable%3D%22false%22%20data-prefix%3D%22far%22%20data-icon%3D%22file-alt%22%20role%3D%22img%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20384%20512%22%20class%3D%22svg-inline--fa%20fa-file-alt%20fa-w-12%22%3E%3Cpath%20fill%3D%22%23999999%22%20d%3D%22M288%20248v28c0%206.6-5.4%2012-12%2012H108c-6.6%200-12-5.4-12-12v-28c0-6.6%205.4-12%2012-12h168c6.6%200%2012%205.4%2012%2012zm-12%2072H108c-6.6%200-12%205.4-12%2012v28c0%206.6%205.4%2012%2012%2012h168c6.6%200%2012-5.4%2012-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0%2026.5-21.5%2048-48%2048H48c-26.5%200-48-21.5-48-48V48C0%2021.5%2021.5%200%2048%200h204.1C264.8%200%20277%205.1%20286%2014.1L369.9%2098c9%208.9%2014.1%2021.2%2014.1%2033.9zm-128-80V128h76.1L256%2051.9zM336%20464V176H232c-13.3%200-24-10.7-24-24V48H48v416h288z%22%20class%3D%22%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E"); box-sizing: content-box; padding-left: 2px; padding-right: 2px; display: inline-block; vertical-align: baseline; }
.markdown-body a[href^="//"]::after, .markdown-body a[href^="http://"]::after, .markdown-body a[href^="https://"]::after { width: 10px; content: url("data:image/svg+xml,%3Csvg%20aria-hidden%3D%22true%22%20focusable%3D%22false%22%20data-prefix%3D%22far%22%20data-icon%3D%22external-link%22%20role%3D%22img%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20class%3D%22svg-inline--fa%20fa-external-link%20fa-w-16%22%3E%3Cpath%20fill%3D%22%23999999%22%20d%3D%22M497.6%2C0%2C334.4.17A14.4%2C14.4%2C0%2C0%2C0%2C320%2C14.57V47.88a14.4%2C14.4%2C0%2C0%2C0%2C14.69%2C14.4l73.63-2.72%2C2.06%2C2.06L131.52%2C340.49a12%2C12%2C0%2C0%2C0%2C0%2C17l23%2C23a12%2C12%2C0%2C0%2C0%2C17%2C0L450.38%2C101.62l2.06%2C2.06-2.72%2C73.63A14.4%2C14.4%2C0%2C0%2C0%2C464.12%2C192h33.31a14.4%2C14.4%2C0%2C0%2C0%2C14.4-14.4L512%2C14.4A14.4%2C14.4%2C0%2C0%2C0%2C497.6%2C0ZM432%2C288H416a16%2C16%2C0%2C0%2C0-16%2C16V458a6%2C6%2C0%2C0%2C1-6%2C6H54a6%2C6%2C0%2C0%2C1-6-6V118a6%2C6%2C0%2C0%2C1%2C6-6H208a16%2C16%2C0%2C0%2C0%2C16-16V80a16%2C16%2C0%2C0%2C0-16-16H48A48%2C48%2C0%2C0%2C0%2C0%2C112V464a48%2C48%2C0%2C0%2C0%2C48%2C48H400a48%2C48%2C0%2C0%2C0%2C48-48V304A16%2C16%2C0%2C0%2C0%2C432%2C288Z%22%20class%3D%22%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E"); box-sizing: content-box; padding-left: 2px; padding-right: 2px; display: inline-block; vertical-align: baseline; }
.markdown-body table a::after { display: none !important; }
.markdown-body .table-of-contents ol { counter-reset: ol-number 0; list-style-type: none; padding-left: 0px; }
.markdown-body .table-of-contents li > ol { padding-left: 2em; }
.markdown-body .table-of-contents ol > li::before { counter-increment: ol-number 1; content: counters(ol-number, ".") " "; }
.markdown-body .table-of-contents > ol > li::before { counter-increment: ol-number 1; content: counter(ol-number) ". "; }
.markdown-body .wrap-code { white-space: pre-wrap; }
.markdown-body table.hljs-ln { margin: 0px; border-collapse: separate; }
.markdown-body table.hljs-ln, .markdown-body table.hljs-ln tr, .markdown-body table.hljs-ln td { border: 0px; }
.markdown-body table.hljs-ln td { padding: 0px; }
.markdown-body table.hljs-ln tbody { display: table; min-width: 100%; }
.markdown-body table.hljs-ln td.hljs-ln-numbers { user-select: none; vertical-align: top; text-align: right; min-width: 2em; width: 2em; position: sticky; left: 0px; background-color: var(--g-color-96); box-shadow: -20px 0px 0px var(--g-color-96); border-right: 1px solid var(--g-color-86); }
.markdown-body table.hljs-ln td.hljs-ln-code { padding-left: 10px; }
.markdown-body table.hljs-ln .hljs-ln-n { padding-right: 8px; color: var(--g-color-40); }
.markdown-body table.hljs-ln .hljs-ln-n::before { content: attr(data-line-number); }
.markdown-body .wrap-code table.hljs-ln td { white-space: pre-wrap; box-shadow: none !important; }
.markdown-body table.small td, .markdown-body table.small th { padding: 3px 6px; font-size: 14px; line-height: 1.3; }
.markdown-body .footnote-backref { padding: 0px 4px; font-family: system-ui; vertical-align: middle; }
.markdown-body .katex { background: initial; }
.markdown-body .p-mcc-copy-btn-wrapper { width: 0px; height: 0px; position: sticky; left: 100%; top: 0px; float: right; }
.markdown-body .p-mcc-language { position: absolute; top: -11px; right: -8px; opacity: 1; color: var(--g-color-50); font-size: 12px; transition: opacity 200ms ease 0s; user-select: none; line-height: 1; }
.markdown-body .p-mcc-copy-btn { width: 20px; height: 20px; position: relative; right: 12px; top: -10px; padding: 6px; border-radius: 50%; opacity: 0; transition: opacity 200ms ease 0s; display: flex; align-items: center; color: var(--g-color-30) ; }
.markdown-body pre:hover .p-mcc-copy-btn { opacity: 1; }
.markdown-body pre:hover .p-mcc-language { opacity: 0; }
.markdown-body .p-mcc-copy-btn:hover { background: var(--g-color-80); }
.markdown-body .p-mcr-run-code-action { position: sticky; left: 0px; border-top: 1px dashed rgb(136, 136, 136); margin: 1em 0px; }
.markdown-body .p-mcr-run-btn { position: absolute; top: -0.7em; height: 0px; width: 0px; border-width: 0.6em 0px 0.6em 0.7em; border-left-style: solid; border-left-color: rgb(183, 179, 179); border-top-style: solid; border-top-color: rgba(221, 221, 221, 0); border-bottom-style: solid; border-bottom-color: rgba(221, 221, 221, 0); border-right-style: initial; border-right-color: initial; background: rgba(0, 0, 0, 0); cursor: pointer; outline: none; }
.markdown-body .p-mcr-run-xterm-btn { position: absolute; top: -0.5em; right: 0px; height: 0px; width: 0px; border-width: 0.6em 0px 0.6em 0.7em; border-left-style: solid; border-left-color: rgb(183, 179, 179); border-top-style: solid; border-top-color: rgba(221, 221, 221, 0); border-bottom-style: solid; border-bottom-color: rgba(221, 221, 221, 0); border-right-style: initial; border-right-color: initial; background: rgba(0, 0, 0, 0); cursor: pointer; outline: none; transform: rotate(90deg); }
.markdown-body .p-mcr-clear-btn-wrapper { width: 0px; height: 0px; position: sticky; left: 100%; bottom: 0px; float: right; }
.markdown-body .p-mcr-clear-btn { width: 20px; height: 20px; position: relative; right: 12px; bottom: 10px; padding: 6px; border-radius: 50%; transition: opacity 200ms ease 0s; display: flex; align-items: center; color: var(--g-color-30) ; }
.markdown-body .p-mcr-clear-btn:hover { background: var(--g-color-80); }
.markdown-body .wrap-code ~ .p-mcr-run-code-result { white-space: pre-wrap; }
.markdown-body .mind-map { overflow: hidden; }
.markdown-body .mind-map > div { margin-top: -20px; }
.markdown-body .mind-map .mind-map-action { position: absolute; right: 10px; top: 23px; z-index: 1; text-align: right; background: transparent; opacity: 0; transition: opacity 0.2s ease 0s; }
.markdown-body .mind-map:hover .mind-map-action { opacity: 1; }
.markdown-body .custom-container.section { padding: 12px; border: 1px solid var(--g-color-80); border-radius: var(--g-border-radius); margin-top: 16px; position: relative; }
.markdown-body .custom-container.section > :first-child { margin-top: 0px; }
.markdown-body .custom-container.row { display: flex; justify-content: space-between; position: relative; margin-top: 16px; }
.markdown-body .custom-container.row.has-title { border-top: 24px solid transparent; }
.markdown-body .custom-container.row > .custom-container-title { background: var(--g-color-80); position: absolute; padding-left: 8px; margin: 0px; font-size: 14px; line-height: 2.2em; left: 0px; top: -2.2em; width: 100%; border: 1px solid var(--g-color-80); border-top-left-radius: var(--g-border-radius); border-top-right-radius: var(--g-border-radius); }
.markdown-body .custom-container.row > .custom-container.col > .custom-container-title { font-size: 14px; line-height: 1.2; }
.markdown-body .custom-container.col { width: 100%; padding: 12px 12px 0px; border: 1px solid var(--g-color-80); border-radius: var(--g-border-radius); margin-right: 8px; background: var(--g-color-100); }
.markdown-body .custom-container.row.has-title > .custom-container.col { margin-right: -1px; border-radius: 0px; }
.markdown-body .custom-container.col:last-of-type, .markdown-body .custom-container.row.has-title > .custom-container.col:last-of-type { margin-right: 0px; border-bottom-right-radius: var(--g-border-radius); }
.markdown-body .custom-container.row.has-title > .custom-container.col:first-of-type { border-bottom-left-radius: var(--g-border-radius); }
.markdown-body .custom-container.details, .markdown-body .custom-container.danger, .markdown-body .custom-container.warning, .markdown-body .custom-container.tip { padding: 16px 16px 2px; margin: 16px 0px; border-left-width: 8px; border-left-style: solid; border-radius: var(--g-border-radius); }
.markdown-body .custom-container.danger, .markdown-body .custom-container.warning, .markdown-body .custom-container.tip { break-inside: avoid; }
.markdown-body .custom-container-title { font-weight: 600; margin-bottom: 10px; margin-top: -6px; font-size: 1.1em; }
.markdown-body .custom-container.danger { border-color: rgb(204, 0, 0); background-color: rgb(255, 224, 224); color: rgb(102, 0, 0); }
.markdown-body .custom-container.warning { border-color: rgb(231, 192, 0); background-color: rgb(255, 250, 227); color: rgb(116, 96, 0); }
.markdown-body .custom-container.tip { border-color: rgb(66, 185, 131); background-color: var(--g-color-90); color: var(--g-color-10); }
.markdown-body .custom-container.details { border: none; background-color: var(--g-color-90); padding: 16px 20px; }
.markdown-body .custom-container.details > summary { margin-top: 0px; }
.markdown-body .custom-container.details > summary + *, .markdown-body .custom-container.details > :first-child:not(summary) { margin-top: 16px; }
.markdown-body .custom-container.details > :last-child:not(summary) { margin-bottom: 0px; }
.markdown-body .custom-container.group { position: relative; display: flex; flex-wrap: wrap; margin-bottom: 16px; background: var(--g-color-80); border-radius: var(--g-border-radius); border: 1px solid var(--g-color-80); }
.markdown-body .custom-container.group p { order: 100; width: 100%; }
.markdown-body .custom-container.group > .custom-container-title { order: 1; padding-left: 8px; margin: 0px; font-size: 14px; line-height: 2.2em; }
.markdown-body .custom-container.group .group-item-radio { position: fixed; right: -1e+08px; }
.markdown-body .custom-container.group .group-item-label { order: 1; cursor: pointer; font-size: 14px; line-height: 2; padding: 0px 1em; color: var(--g-color-20); }
.markdown-body .custom-container.group .group-item-label:hover { background: var(--g-color-85); }
.markdown-body .custom-container.group .group-item-content { order: 2; width: 100%; display: none; border-top-right-radius: ; border-bottom-right-radius: ; border-bottom-left-radius: ; border-top-left-radius: 0px; padding: 12px 12px 0px; background: var(--g-color-100); }
.markdown-body .custom-container.group .group-item-radio:checked + .group-item-label { background: var(--g-color-100); border-top-left-radius: var(--g-border-radius); border-top-right-radius: var(--g-border-radius); color: var(--g-color-0); font-weight: 500; }
.markdown-body .custom-container.group .group-item-radio:checked + .group-item-label + .group-item-content { display: block; }
.markdown-body { counter-reset: h2counter 0 h3counter 0 h4counter 0 h5counter 0 h6counter 0; }
.markdown-body h1.show-number { counter-reset: h2counter 0; }
.markdown-body h2.show-number { counter-reset: h3counter 0; }
.markdown-body h3.show-number { counter-reset: h4counter 0; }
.markdown-body h4.show-number { counter-reset: h5counter 0; }
.markdown-body h5.show-number { counter-reset: h6counter 0; }
.markdown-body h2.show-number::before { counter-increment: h2counter 1; content: counter(h2counter) ".  "; }
.markdown-body h3.show-number::before { counter-increment: h3counter 1; content: counter(h2counter) "." counter(h3counter) ".  "; }
.markdown-body h4.show-number::before { counter-increment: h4counter 1; content: counter(h2counter) "." counter(h3counter) "." counter(h4counter) ".  "; }
.markdown-body h5.show-number::before { counter-increment: h5counter 1; content: counter(h2counter) "." counter(h3counter) "." counter(h4counter) "." counter(h5counter) ".  "; }
.markdown-body h6.show-number::before { counter-increment: h6counter 1; content: counter(h2counter) "." counter(h3counter) "." counter(h4counter) "." counter(h5counter) "." counter(h6counter) ".  "; }
.markdown-body { text-size-adjust: 100%; color: rgb(36, 41, 46); font-family: -apple-system, MacEmoji, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"; font-size: 16px; line-height: 1.5; overflow-wrap: break-word; }
.markdown-body details { display: block; }
.markdown-body summary { display: list-item; }
.markdown-body a { background-color: initial; }
.markdown-body a:active, .markdown-body a:hover { outline-width: 0px; }
.markdown-body strong { font-weight: bolder; }
.markdown-body h1 { font-size: 2em; margin: 0.67em 0px; }
.markdown-body img { border-style: none; }
.markdown-body code, .markdown-body kbd, .markdown-body pre { font-family: monospace, monospace; font-size: 1em; }
.markdown-body hr { box-sizing: initial; height: 0px; overflow: visible; }
.markdown-body input { font: inherit; margin: 0px; }
.markdown-body input { overflow: visible; }
.markdown-body [type="checkbox"] { box-sizing: border-box; padding: 0px; }
.markdown-body * { box-sizing: border-box; }
.markdown-body input { font-family: inherit; font-size: inherit; line-height: inherit; }
.markdown-body a { color: rgb(3, 102, 214); text-decoration: none; }
.markdown-body a:hover { text-decoration: underline; }
.markdown-body strong { font-weight: 600; }
.markdown-body hr { height: 0px; margin: 15px 0px; overflow: hidden; background: transparent; border-width: 0px 0px 1px; border-top-style: initial; border-right-style: initial; border-left-style: initial; border-top-color: initial; border-right-color: initial; border-left-color: initial; border-image: initial; border-bottom-style: solid; border-bottom-color: rgb(223, 226, 229); }
.markdown-body hr::after, .markdown-body hr::before { display: table; content: ""; }
.markdown-body hr::after { clear: both; }
.markdown-body table { border-spacing: 0px; border-collapse: collapse; }
.markdown-body td, .markdown-body th { padding: 0px; }
.markdown-body details summary { cursor: pointer; }
.markdown-body kbd { display: inline-block; padding: 3px 5px; font: 11px / 10px SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace; color: rgb(68, 77, 86); vertical-align: middle; background-color: rgb(250, 251, 252); border: 1px solid rgb(209, 213, 218); border-radius: 3px; box-shadow: rgb(209, 213, 218) 0px -1px 0px inset; }
.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 { margin-top: 0px; margin-bottom: 0px; }
.markdown-body h1 { font-size: 32px; }
.markdown-body h1, .markdown-body h2 { font-weight: 600; }
.markdown-body h2 { font-size: 24px; }
.markdown-body h3 { font-size: 20px; }
.markdown-body h3, .markdown-body h4 { font-weight: 600; }
.markdown-body h4 { font-size: 16px; }
.markdown-body h5 { font-size: 14px; }
.markdown-body h5, .markdown-body h6 { font-weight: 600; }
.markdown-body h6 { font-size: 12px; }
.markdown-body p { margin-top: 0px; margin-bottom: 10px; }
.markdown-body blockquote { margin: 0px; }
.markdown-body ol, .markdown-body ul { padding-left: 0px; margin-top: 0px; margin-bottom: 0px; }
.markdown-body ol ol, .markdown-body ul ol { list-style-type: lower-roman; }
.markdown-body ol ol ol, .markdown-body ol ul ol, .markdown-body ul ol ol, .markdown-body ul ul ol { list-style-type: lower-alpha; }
.markdown-body dd { margin-left: 0px; }
.markdown-body code, .markdown-body pre { font-family: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace; font-size: 12px; }
.markdown-body pre { margin-top: 0px; margin-bottom: 0px; }
.markdown-body input::-webkit-inner-spin-button, .markdown-body input::-webkit-outer-spin-button { margin: 0px; appearance: none; }
.markdown-body hr { border-bottom-color: rgb(238, 238, 238); }
.markdown-body::after, .markdown-body::before { display: table; content: ""; }
.markdown-body::after { clear: both; }
.markdown-body > :first-child { margin-top: 0px !important; }
.markdown-body > :last-child { margin-bottom: 0px !important; }
.markdown-body a:not([href]) { color: inherit; text-decoration: none; }
.markdown-body blockquote, .markdown-body details, .markdown-body dl, .markdown-body ol, .markdown-body p, .markdown-body pre, .markdown-body table, .markdown-body ul { margin-top: 0px; margin-bottom: 16px; }
.markdown-body hr { height: 0.25em; padding: 0px; margin: 24px 0px; background-color: rgb(225, 228, 232); border: 0px; }
.markdown-body blockquote { padding: 0px 1em; color: rgb(106, 115, 125); border-left: 0.25em solid rgb(223, 226, 229); }
.markdown-body blockquote > :first-child { margin-top: 0px; }
.markdown-body blockquote > :last-child { margin-bottom: 0px; }
.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; }
.markdown-body h1 { font-size: 2em; }
.markdown-body h1, .markdown-body h2 { padding-bottom: 0.3em; border-bottom: 1px solid rgb(234, 236, 239); }
.markdown-body h2 { font-size: 1.5em; }
.markdown-body h3 { font-size: 1.25em; }
.markdown-body h4 { font-size: 1em; }
.markdown-body h5 { font-size: 0.875em; }
.markdown-body h6 { font-size: 0.85em; color: rgb(106, 115, 125); }
.markdown-body ol, .markdown-body ul { padding-left: 2em; }
.markdown-body ol ol, .markdown-body ol ul, .markdown-body ul ol, .markdown-body ul ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-body li { }
.markdown-body li > p { margin-top: 16px; }
.markdown-body li + li { margin-top: 0.25em; }
.markdown-body dl { padding: 0px; }
.markdown-body dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; }
.markdown-body dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-body table { display: block; width: 100%; overflow: auto; }
.markdown-body table th { font-weight: 600; }
.markdown-body table td, .markdown-body table th { padding: 6px 13px; border: 1px solid rgb(223, 226, 229); }
.markdown-body table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(198, 203, 209); }
.markdown-body table tr:nth-child(2n) { background-color: rgb(246, 248, 250); }
.markdown-body img { max-width: 100%; box-sizing: initial; background-color: rgb(255, 255, 255); }
.markdown-body img[align="right"] { padding-left: 20px; }
.markdown-body img[align="left"] { padding-right: 20px; }
.markdown-body code { padding: 0.2em 0.4em; margin: 0px; font-size: 85%; background-color: rgba(27, 31, 35, 0.05); border-radius: 3px; }
.markdown-body pre { overflow-wrap: normal; }
.markdown-body pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }
.markdown-body .highlight { margin-bottom: 16px; }
.markdown-body .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-body .highlight pre, .markdown-body pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(246, 248, 250); border-radius: 3px; }
.markdown-body pre code { display: inline; padding: 0px; margin: 0px; overflow: visible; line-height: inherit; overflow-wrap: normal; background-color: initial; border: 0px; }
.markdown-body .task-list-item { list-style-type: none; }
.markdown-body .task-list-item + .task-list-item { margin-top: 3px; }
.markdown-body .task-list-item input { margin: 0px 0.2em 0.25em -1.6em; vertical-align: middle; }
.markdown-body .drawio-wrapper .drawio-action { position: absolute; right: 15px; top: 2px; z-index: 1; opacity: 0; transition: opacity 0.2s ease 0s; }
.markdown-body .drawio-wrapper:hover .drawio-action { opacity: 1; }
.markdown-body .echarts-wrapper { position: relative; }
.markdown-body .echarts-wrapper .echarts-action { position: absolute; right: 10px; top: 10px; z-index: 1; text-align: right; opacity: 0; transition: opacity 0.2s ease 0s; }
.markdown-body .echarts-wrapper:hover .echarts-action { opacity: 1; }
.markdown-body .echarts { width: 100%; height: 350px; }
.markdown-body .lucky-sheet-wrapper .lucky-sheet-action { position: absolute; right: 10px; top: 3px; z-index: 1; opacity: 0; transition: opacity 0.2s ease 0s; }
.markdown-body .lucky-sheet-wrapper:hover .lucky-sheet-action { opacity: 1; }

        </style>
  </head>
  <body>
    <article class="markdown-body" data-v-49d3f3e0="" powered-by="Yank Note"><h1 data-source-line="1" data-source-line-end="2" data-token-idx="0" id="%E4%B8%80%E3%80%81mybatis-plus" data-tag="h1">一、MyBatis-Plus</h1><h2 data-source-line="3" data-source-line-end="4" data-token-idx="3" id="1.%E7%AE%80%E4%BB%8B" data-tag="h2">1.简介</h2><p data-source-line="5" data-source-line-end="6" data-token-idx="6"><a href="https://github.com/baomidou/mybatis-plus" target="_blank">MyBatis-Plus (opens new window)</a>（简称 MP）是一个 <a href="https://www.mybatis.org/mybatis-3/" target="_blank">MyBatis (opens new window)</a>的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。</p><blockquote data-source-line="7" data-source-line-end="8" data-token-idx="9"><p data-source-line="7" data-source-line-end="8" data-token-idx="10">我们的愿景是成为 MyBatis 最好的搭档，就像 <a href="https://baomidou.com/img/contra.jpg" target="_blank">魂斗罗</a> 中的 1P、2P，基友搭配，效率翻倍。</p></blockquote><p data-source-line="9" data-source-line-end="10" data-token-idx="14"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/relationship-with-mybatis.png" alt="img"></p><h2 data-source-line="11" data-source-line-end="12" data-token-idx="17" id="2.%E7%89%B9%E6%80%A7" data-tag="h2">2.特性</h2><ul data-source-line="13" data-source-line-end="28" data-token-idx="20"><li data-source-line="13" data-source-line-end="14" data-token-idx="21"><strong>无侵入</strong>：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</li><li data-source-line="14" data-source-line-end="15" data-token-idx="26"><strong>损耗小</strong>：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</li><li data-source-line="15" data-source-line-end="16" data-token-idx="31"><strong>强大的 CRUD 操作</strong>：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</li><li data-source-line="16" data-source-line-end="17" data-token-idx="36"><strong>支持 Lambda 形式调用</strong>：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</li><li data-source-line="17" data-source-line-end="18" data-token-idx="41"><strong>支持主键自动生成</strong>：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</li><li data-source-line="18" data-source-line-end="19" data-token-idx="46"><strong>支持 ActiveRecord 模式</strong>：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</li><li data-source-line="19" data-source-line-end="20" data-token-idx="51"><strong>支持自定义全局通用操作</strong>：支持全局通用方法注入（ Write once, use anywhere ）</li><li data-source-line="20" data-source-line-end="21" data-token-idx="56"><strong>内置代码生成器</strong>：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</li><li data-source-line="21" data-source-line-end="22" data-token-idx="61"><strong>内置分页插件</strong>：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</li><li data-source-line="22" data-source-line-end="23" data-token-idx="66"><strong>分页插件支持多种数据库</strong>：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</li><li data-source-line="23" data-source-line-end="24" data-token-idx="71"><strong>内置性能分析插件</strong>：可输出 SQL 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</li><li data-source-line="24" data-source-line-end="28" data-token-idx="76"><strong>内置全局拦截插件</strong>：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</li></ul><h2 data-source-line="28" data-source-line-end="29" data-token-idx="82" id="3.%E6%94%AF%E6%8C%81%E6%95%B0%E6%8D%AE%E5%BA%93" data-tag="h2">3.支持数据库</h2><blockquote data-source-line="30" data-source-line-end="32" data-token-idx="85"><p data-source-line="30" data-source-line-end="31" data-token-idx="86">任何能使用 <code class="copy-inner-text">MyBatis</code> 进行 CRUD, 并且支持标准 SQL 的数据库，具体支持情况如下，如果不在下列表查看分页部分教程 PR 您的支持。</p></blockquote><ul data-source-line="33" data-source-line-end="38" data-token-idx="90"><li data-source-line="33" data-source-line-end="34" data-token-idx="91">MySQL，Oracle，DB2，H2，HSQL，SQLite，PostgreSQL，SQLServer，Phoenix，Gauss ，ClickHouse，Sybase，OceanBase，Firebird，Cubrid，Goldilocks，csiidb</li><li data-source-line="34" data-source-line-end="38" data-token-idx="96">达梦数据库，虚谷数据库，人大金仓数据库，南大通用(华库)数据库，南大通用数据库，神通数据库，瀚高数据库</li></ul><h2 data-source-line="38" data-source-line-end="39" data-token-idx="102" id="4.%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84" data-tag="h2">4.框架结构</h2><img src="https://baomidou.com/img/mybatis-plus-framework.jpg" alt="framework" style="zoom: 50%;"><h2 data-source-line="44" data-source-line-end="45" data-token-idx="107" id="5.%E5%AE%98%E6%96%B9%E5%9C%B0%E5%9D%80" data-tag="h2">5.官方地址</h2><blockquote data-source-line="46" data-source-line-end="49" data-token-idx="110"><p data-source-line="46" data-source-line-end="47" data-token-idx="111">**官方网站：**<a href="https://baomidou.com/" target="_blank">https://baomidou.com/</a></p><p data-source-line="48" data-source-line-end="49" data-token-idx="114">**官方文档：**<a href="https://baomidou.com/pages/24112f/" target="_blank">https://baomidou.com/pages/24112f/</a></p></blockquote><h1 data-source-line="54" data-source-line-end="55" data-token-idx="118" id="%E4%BA%8C%E3%80%81%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B" data-tag="h1">二、入门案例</h1><h2 data-source-line="56" data-source-line-end="57" data-token-idx="121" id="1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83" data-tag="h2">1.开发环境</h2><ul data-source-line="58" data-source-line-end="68" data-token-idx="124"><li data-source-line="58" data-source-line-end="59" data-token-idx="125"><strong>IDE：IDEA 2019.3.5</strong></li><li data-source-line="59" data-source-line-end="60" data-token-idx="130"><strong>JDK：JDK8+</strong></li><li data-source-line="60" data-source-line-end="61" data-token-idx="135"><strong>构建工具：Maven 3.5.4</strong></li><li data-source-line="61" data-source-line-end="62" data-token-idx="140"><strong>MySQL：MySQL 8.0.24</strong></li><li data-source-line="62" data-source-line-end="63" data-token-idx="145"><strong>Navicat：Navicat Premium 15</strong></li><li data-source-line="63" data-source-line-end="64" data-token-idx="150"><strong>Spring Boot：2.6.7</strong></li><li data-source-line="64" data-source-line-end="68" data-token-idx="155"><strong>MyBatis-Plus：3.5.1</strong></li></ul><h2 data-source-line="68" data-source-line-end="69" data-token-idx="161" id="2.%E5%BB%BA%E5%BA%93%E5%BB%BA%E8%A1%A8" data-tag="h2">2.建库建表</h2><ul data-source-line="70" data-source-line-end="97" data-token-idx="164"><li data-source-line="70" data-source-line-end="84" data-token-idx="165"><p data-source-line="70" data-source-line-end="71" data-token-idx="166"><strong>打开Navicat运行以下SQL脚本进行建库建表</strong></p><pre data-info="sql" data-lang="sql" data-source-line="72" data-source-line-end="83"><code data-token-idx="169" class="language-sql"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">CREATE</span> DATABASE `mybatis_plus` <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span>; 
use `mybatis_plus`; 
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">CREATE</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">TABLE</span> `<span class="hljs-keyword" style="color: rgb(198, 120, 221);">user</span>` ( 
    `id` <span class="hljs-type" style="color: rgb(209, 154, 102);">bigint</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NOT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'主键ID'</span>, 
    `name` <span class="hljs-type" style="color: rgb(209, 154, 102);">varchar</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'姓名'</span>, 
    `age` <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">11</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'年龄'</span>, 
    `email` <span class="hljs-type" style="color: rgb(209, 154, 102);">varchar</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">50</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'邮箱'</span>, 
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">PRIMARY</span> KEY (`id`) 
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;
</code></pre></li><li data-source-line="84" data-source-line-end="97" data-token-idx="171"><p data-source-line="84" data-source-line-end="85" data-token-idx="172"><strong>插入几条测试数据</strong></p><pre data-info="sql" data-lang="sql" data-source-line="86" data-source-line-end="94"><code data-token-idx="175" class="language-sql"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">INSERT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">INTO</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">user</span> (id, name, age, email) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">VALUES</span> 
(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'Jone'</span>, <span class="hljs-number" style="color: rgb(209, 154, 102);">18</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'test1@baomidou.com'</span>), 
(<span class="hljs-number" style="color: rgb(209, 154, 102);">2</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'Jack'</span>, <span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'test2@baomidou.com'</span>), 
(<span class="hljs-number" style="color: rgb(209, 154, 102);">3</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'Tom'</span>, <span class="hljs-number" style="color: rgb(209, 154, 102);">28</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'test3@baomidou.com'</span>), 
(<span class="hljs-number" style="color: rgb(209, 154, 102);">4</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'Sandy'</span>, <span class="hljs-number" style="color: rgb(209, 154, 102);">21</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'test4@baomidou.com'</span>), 
(<span class="hljs-number" style="color: rgb(209, 154, 102);">5</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'Billie'</span>, <span class="hljs-number" style="color: rgb(209, 154, 102);">24</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">'test5@baomidou.com'</span>);
</code></pre></li></ul><h2 data-source-line="97" data-source-line-end="98" data-token-idx="178" id="3.%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B" data-tag="h2">3.创建工程</h2><ul data-source-line="99" data-source-line-end="125" data-token-idx="181"><li data-source-line="99" data-source-line-end="109" data-token-idx="182"><p data-source-line="99" data-source-line-end="100" data-token-idx="183"><strong>使用<code class="copy-inner-text">Spring Initializer</code>快速初始化一个 Spring Boot 工程</strong></p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519140839640.png" alt="image-20220519140839640" style="zoom: 80%;"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141335981.png" alt="image-20220519141335981" style="zoom: 80%;"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141737405.png" alt="image-20220519141737405" style="zoom: 80%;"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141849937.png" alt="image-20220519141849937" style="zoom: 80%;"></li><li data-source-line="109" data-source-line-end="119" data-token-idx="195"><p data-source-line="109" data-source-line-end="110" data-token-idx="196"><strong>引入<code class="copy-inner-text">MyBatis-Plus</code>的依赖</strong></p><pre data-info="xml" data-lang="xml" data-source-line="111" data-source-line-end="118"><code data-token-idx="199" class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>3.5.1<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
</code></pre></li><li data-source-line="119" data-source-line-end="125" data-token-idx="201"><p data-source-line="119" data-source-line-end="120" data-token-idx="202"><strong>安装<code class="copy-inner-text">Lombok</code>插件</strong></p><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519143257305.png" alt="image-20220519143257305" style="zoom: 80%;"></li></ul><h2 data-source-line="125" data-source-line-end="126" data-token-idx="209" id="4.%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81" data-tag="h2">4.配置编码</h2><ul data-source-line="127" data-source-line-end="184" data-token-idx="212"><li data-source-line="127" data-source-line-end="152" data-token-idx="213"><p data-source-line="127" data-source-line-end="128" data-token-idx="214"><strong>配置<code class="copy-inner-text">application.yml</code>文件</strong></p><pre data-info="yml" data-lang="yml" data-source-line="129" data-source-line-end="151"><code data-token-idx="217" class="language-yml"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置端口</span>
<span class="hljs-attr" style="color: rgb(209, 154, 102);">server:</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">port:</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">80</span>

<span class="hljs-attr" style="color: rgb(209, 154, 102);">spring:</span>
  <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置数据源</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">datasource:</span>
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置数据源类型</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">type:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.zaxxer.hikari.HikariDataSource</span>
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置连接数据库的信息</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">driver-class-name:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.mysql.cj.jdbc.Driver</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">url:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">username:</span> {<span class="hljs-string" style="color: rgb(152, 195, 121);">username</span>}
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">password:</span> {<span class="hljs-string" style="color: rgb(152, 195, 121);">password</span>}

<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#MyBatis-Plus相关配置</span>
<span class="hljs-attr" style="color: rgb(209, 154, 102);">mybatis-plus:</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">configuration:</span>
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置日志</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">log-impl:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</code></pre></li><li data-source-line="152" data-source-line-end="164" data-token-idx="219"><p data-source-line="152" data-source-line-end="153" data-token-idx="220"><strong>在 Spring Boot 启动类中添加 <code class="copy-inner-text">@MapperScan</code> 注解，扫描 Mapper 文件夹</strong></p><pre data-info="java" data-lang="java" data-source-line="154" data-source-line-end="163"><code data-token-idx="223" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@SpringBootApplication</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@MapperScan("指定Mapper接口所在的包")</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">MybatisPlusDemoApplication</span> {
	<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">static</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">main</span><span class="hljs-params">(String[] args)</span> {
		SpringApplication.run(MybatisPlusDemoApplication.class, args);
	}
}
</code></pre></li><li data-source-line="164" data-source-line-end="176" data-token-idx="225"><p data-source-line="164" data-source-line-end="165" data-token-idx="226"><strong>编写实体类 <code class="copy-inner-text">User.java</code>（此处使用了 Lombok 简化代码）</strong></p><pre data-info="java" data-lang="java" data-source-line="166" data-source-line-end="175"><code data-token-idx="229" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Data</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span> {
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer age;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String email;
}
</code></pre></li><li data-source-line="176" data-source-line-end="184" data-token-idx="231"><p data-source-line="176" data-source-line-end="177" data-token-idx="232"><strong>编写 Mapper 包下的 <code class="copy-inner-text">UserMapper</code>接口</strong></p><pre data-info="java" data-lang="java" data-source-line="178" data-source-line-end="181"><code data-token-idx="235" class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseMapper</span>&lt;User&gt; {}
</code></pre></li></ul><h2 data-source-line="184" data-source-line-end="185" data-token-idx="238" id="5.%E6%B5%8B%E8%AF%95%E6%9F%A5%E8%AF%A2" data-tag="h2">5.测试查询</h2><ul data-source-line="186" data-source-line-end="212" data-token-idx="241"><li data-source-line="186" data-source-line-end="206" data-token-idx="242"><p data-source-line="186" data-source-line-end="187" data-token-idx="243"><strong>编写一个测试类<code class="copy-inner-text">MyBatisPlusTest.java</code></strong></p><pre data-info="java" data-lang="java" data-source-line="188" data-source-line-end="205"><code data-token-idx="246" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@SpringBootTest</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">MyBatisPlusTest</span> {
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@Resource</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> UserMapper userMapper;

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
     * 测试查询所有数据
     */</span>
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testSelectList</span><span class="hljs-params">()</span>{
        <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//通过条件构造器查询一个list集合，若没有条件，则可以设置null为参数</span>
        List&lt;User&gt; users = userMapper.selectList(<span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>);
        users.forEach(System.out::println);
    }
}
</code></pre></li><li data-source-line="206" data-source-line-end="212" data-token-idx="248"><p data-source-line="206" data-source-line-end="207" data-token-idx="249"><strong>控制台打印查询结果</strong></p><p data-source-line="208" data-source-line-end="209" data-token-idx="252"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519150454211.png" alt="image-20220519150454211"></p></li></ul><h1 data-source-line="212" data-source-line-end="213" data-token-idx="257" id="%E4%B8%89%E3%80%81%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5" data-tag="h1">三、增删改查</h1><h2 data-source-line="214" data-source-line-end="215" data-token-idx="260" id="1.basemapper%26lt%3Bt%26gt%3B" data-tag="h2">1.BaseMapper&lt;T&gt;</h2><blockquote data-source-line="216" data-source-line-end="222" data-token-idx="263"><p data-source-line="216" data-source-line-end="217" data-token-idx="264">说明:</p><ul data-source-line="218" data-source-line-end="222" data-token-idx="267"><li data-source-line="218" data-source-line-end="219" data-token-idx="268">通用 CRUD 封装BaseMapper 接口，为 <code class="copy-inner-text">Mybatis-Plus</code> 启动时自动解析实体表关系映射转换为 <code class="copy-inner-text">Mybatis</code> 内部对象注入容器</li><li data-source-line="219" data-source-line-end="220" data-token-idx="273">泛型 <code class="copy-inner-text">T</code> 为任意实体对象</li><li data-source-line="220" data-source-line-end="221" data-token-idx="278">参数 <code class="copy-inner-text">Serializable</code> 为任意类型主键 <code class="copy-inner-text">Mybatis-Plus</code> 不推荐使用复合主键约定每一张表都有自己的唯一 <code class="copy-inner-text">id</code> 主键</li><li data-source-line="221" data-source-line-end="222" data-token-idx="283">对象 <code class="copy-inner-text">Wrapper</code> 为条件构造器</li></ul></blockquote><p data-source-line="223" data-source-line-end="224" data-token-idx="290">MyBatis-Plus中的基本CRUD在内置的BaseMapper中都已得到了实现，因此我们继承该接口以后可以直接使用。</p><p data-source-line="225" data-source-line-end="226" data-token-idx="293">本次演示的CRUD操作不包含参数带有条件构造器的方法，关于条件构造器将单独在一个章节进行演示。</p><hr data-source-line="227" data-source-line-end="228" data-token-idx="296"><blockquote data-source-line="229" data-source-line-end="230" data-token-idx="297"><p data-source-line="229" data-source-line-end="230" data-token-idx="298"><strong>BaseMapper中提供的CRUD方法：</strong></p></blockquote><ul data-source-line="231" data-source-line-end="290" data-token-idx="302"><li data-source-line="231" data-source-line-end="238" data-token-idx="303"><p data-source-line="231" data-source-line-end="232" data-token-idx="304"><strong>增加：Insert</strong></p><pre data-info="java" data-lang="java" data-source-line="233" data-source-line-end="237"><code data-token-idx="307" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 插入一条记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">insert</span><span class="hljs-params">(T entity)</span>;
</code></pre></li><li data-source-line="238" data-source-line-end="251" data-token-idx="309"><p data-source-line="238" data-source-line-end="239" data-token-idx="310"><strong>删除：Delete</strong></p><pre data-info="java" data-lang="java" data-source-line="240" data-source-line-end="250"><code data-token-idx="313" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 entity 条件，删除记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">delete</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; wrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 删除（根据ID 批量删除）</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">deleteBatchIds</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.COLLECTION)</span> Collection&lt;? extends Serializable&gt; idList)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 ID 删除</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">deleteById</span><span class="hljs-params">(Serializable id)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 columnMap 条件，删除记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">deleteByMap</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.COLUMN_MAP)</span> Map&lt;String, Object&gt; columnMap)</span>;
</code></pre></li><li data-source-line="251" data-source-line-end="260" data-token-idx="315"><p data-source-line="251" data-source-line-end="252" data-token-idx="316"><strong>修改：Update</strong></p><pre data-info="java" data-lang="java" data-source-line="253" data-source-line-end="259"><code data-token-idx="319" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 whereWrapper 条件，更新记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">update</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.ENTITY)</span> T updateEntity, <span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; whereWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 ID 修改</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">updateById</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.ENTITY)</span> T entity)</span>;
</code></pre></li><li data-source-line="260" data-source-line-end="290" data-token-idx="321"><p data-source-line="260" data-source-line-end="261" data-token-idx="322"><strong>查询：Selete</strong></p><pre data-info="java" data-lang="java" data-source-line="262" data-source-line-end="286"><code data-token-idx="325" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 ID 查询</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectById</span><span class="hljs-params">(Serializable id)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 entity 条件，查询一条记录</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectOne</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;

<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询（根据ID 批量查询）</span>
List&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectBatchIds</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.COLLECTION)</span> Collection&lt;? extends Serializable&gt; idList)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 entity 条件，查询全部记录</span>
List&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectList</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询（根据 columnMap 条件）</span>
List&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectByMap</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.COLUMN_MAP)</span> Map&lt;String, Object&gt; columnMap)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper 条件，查询全部记录</span>
List&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectMaps</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper 条件，查询全部记录。注意： 只返回第一个字段的值</span>
List&lt;Object&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectObjs</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;

<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 entity 条件，查询全部记录（并翻页）</span>
IPage&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectPage</span><span class="hljs-params">(IPage&lt;T&gt; page, <span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper 条件，查询全部记录（并翻页）</span>
IPage&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectMapsPage</span><span class="hljs-params">(IPage&lt;T&gt; page, <span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper 条件，查询总记录数</span>
Integer <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectCount</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;
</code></pre></li></ul><h2 data-source-line="290" data-source-line-end="291" data-token-idx="328" id="2.%E8%B0%83%E7%94%A8mapper%E5%B1%82%E5%AE%9E%E7%8E%B0crud" data-tag="h2">2.调用Mapper层实现CRUD</h2><h3 data-source-line="292" data-source-line-end="293" data-token-idx="331" id="2.1-%E6%8F%92%E5%85%A5" data-tag="h3">2.1	插入</h3><hr data-source-line="294" data-source-line-end="295" data-token-idx="334"><blockquote data-source-line="296" data-source-line-end="299" data-token-idx="335"><p data-source-line="296" data-source-line-end="297" data-token-idx="336"><strong>最终执行的结果，所获取的id为1527206783590903810</strong></p><p data-source-line="298" data-source-line-end="299" data-token-idx="339"><strong>这是因为MyBatis-Plus在实现插入数据时，会默认基于雪花算法的策略生成id</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="300" data-source-line-end="318"><code data-token-idx="343" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 测试插入一条数据
  * MyBatis-Plus在实现插入数据时，会默认基于雪花算法的策略生成id
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testInsert</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span>();
    user.setName(<span class="hljs-string" style="color: rgb(152, 195, 121);">"Vz"</span>);
    user.setAge(<span class="hljs-number" style="color: rgb(209, 154, 102);">21</span>);
    user.setEmail(<span class="hljs-string" style="color: rgb(152, 195, 121);">"vz@oz6.cn"</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.insert(user);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"添加成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"添加失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//1527206783590903810（当前 id 为雪花算法自动生成的id）</span>
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"id自动获取"</span> + user.getId());
}
</code></pre><h3 data-source-line="321" data-source-line-end="322" data-token-idx="344" id="2.2-%E5%88%A0%E9%99%A4" data-tag="h3">2.2	删除</h3><hr data-source-line="323" data-source-line-end="324" data-token-idx="347"><h4 data-source-line="325" data-source-line-end="326" data-token-idx="348" id="a%E3%80%81%E6%A0%B9%E6%8D%AEid%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE" data-tag="h4">a、根据ID删除数据</h4><blockquote data-source-line="327" data-source-line-end="328" data-token-idx="351"><p data-source-line="327" data-source-line-end="328" data-token-idx="352"><strong>调用方法：int deleteById(Serializable id);</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="329" data-source-line-end="340"><code data-token-idx="356" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 测试根据id删除一条数据
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testDeleteById</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.deleteById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1527206783590903810L</span>);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre><h4 data-source-line="343" data-source-line-end="344" data-token-idx="357" id="b%E3%80%81%E6%A0%B9%E6%8D%AEid%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE" data-tag="h4">b、根据ID批量删除数据</h4><blockquote data-source-line="345" data-source-line-end="346" data-token-idx="360"><p data-source-line="345" data-source-line-end="346" data-token-idx="361"><strong>调用方法：int deleteBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="347" data-source-line-end="359"><code data-token-idx="365" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 测试通过id批量删除数据
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testDeleteBatchIds</span><span class="hljs-params">()</span>{
    List&lt;Long&gt; ids = Arrays.asList(<span class="hljs-number" style="color: rgb(209, 154, 102);">6L</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">7L</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">8L</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.deleteBatchIds(ids);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre><h4 data-source-line="362" data-source-line-end="363" data-token-idx="366" id="c%E3%80%81%E6%A0%B9%E6%8D%AEmap%E6%9D%A1%E4%BB%B6%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE" data-tag="h4">c、根据Map条件删除数据</h4><blockquote data-source-line="364" data-source-line-end="365" data-token-idx="369"><p data-source-line="364" data-source-line-end="365" data-token-idx="370"><strong>调用方法：int deleteByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="366" data-source-line-end="382"><code data-token-idx="374" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
   * 测试根据Map集合中所设置的条件删除数据
   */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testDeleteByMap</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//当前演示为根据name和age删除数据</span>
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//执行SQL为：DELETE FROM user WHERE name = ? AND age = ?</span>
    Map&lt;String,Object&gt; map = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string" style="color: rgb(152, 195, 121);">"name"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"Vz"</span>);
    map.put(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">21</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.deleteByMap(map);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre><h3 data-source-line="385" data-source-line-end="386" data-token-idx="375" id="2.3-%E4%BF%AE%E6%94%B9" data-tag="h3">2.3	修改</h3><blockquote data-source-line="387" data-source-line-end="388" data-token-idx="378"><p data-source-line="387" data-source-line-end="388" data-token-idx="379"><strong>调用方法：int updateById(@Param(Constants.ENTITY) T entity);</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="389" data-source-line-end="406"><code data-token-idx="383" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 测试根据id修改用户信息
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testUpdateById</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//执行SQL为： UPDATE user SET name=?, age=?, email=? WHERE id=?</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span>();
    user.setId(<span class="hljs-number" style="color: rgb(209, 154, 102);">6L</span>);
    user.setName(<span class="hljs-string" style="color: rgb(152, 195, 121);">"VzUpdate"</span>);
    user.setAge(<span class="hljs-number" style="color: rgb(209, 154, 102);">18</span>);
    user.setEmail(<span class="hljs-string" style="color: rgb(152, 195, 121);">"Vz@sina.com"</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.updateById(user);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre><h3 data-source-line="409" data-source-line-end="410" data-token-idx="384" id="2.4-%E6%9F%A5%E8%AF%A2" data-tag="h3">2.4	查询</h3><hr data-source-line="411" data-source-line-end="412" data-token-idx="387"><h4 data-source-line="413" data-source-line-end="414" data-token-idx="388" id="a%E3%80%81%E6%A0%B9%E6%8D%AEid%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF" data-tag="h4">a、根据ID查询用户信息</h4><blockquote data-source-line="415" data-source-line-end="416" data-token-idx="391"><p data-source-line="415" data-source-line-end="416" data-token-idx="392"><strong>调用方法：T selectById(Serializable id);</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="417" data-source-line-end="427"><code data-token-idx="396" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 测试根据id查询用户数据
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testSelectById</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> userMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1L</span>);
    System.out.println(user);
}
</code></pre><h4 data-source-line="430" data-source-line-end="431" data-token-idx="397" id="b%E3%80%81%E6%A0%B9%E6%8D%AE%E5%A4%9A%E4%B8%AAid%E6%9F%A5%E8%AF%A2%E5%A4%9A%E4%B8%AA%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF" data-tag="h4">b、根据多个ID查询多个用户信息</h4><blockquote data-source-line="432" data-source-line-end="433" data-token-idx="400"><p data-source-line="432" data-source-line-end="433" data-token-idx="401">**调用方法：List<t> selectBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);**</t></p></blockquote><pre data-info="java" data-lang="java" data-source-line="434" data-source-line-end="446"><code data-token-idx="405" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 根据多个id查询用户数据
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testSelectBatchIds</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//执行SQL为：SELECT id,name,age,email FROM user WHERE id IN ( ? , ? , ? )</span>
    List&lt;Long&gt; ids = Arrays.asList(<span class="hljs-number" style="color: rgb(209, 154, 102);">1L</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">2L</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">3L</span>);
    List&lt;User&gt; users = userMapper.selectBatchIds(ids);
    users.forEach(System.out::println);
}
</code></pre><h4 data-source-line="451" data-source-line-end="452" data-token-idx="406" id="c%E3%80%81%E6%A0%B9%E6%8D%AEmap%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF" data-tag="h4">c、根据Map条件查询用户信息</h4><blockquote data-source-line="453" data-source-line-end="454" data-token-idx="409"><p data-source-line="453" data-source-line-end="454" data-token-idx="410">**调用方法：List<t> selectByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);**</t></p></blockquote><pre data-info="java" data-lang="java" data-source-line="455" data-source-line-end="468"><code data-token-idx="414" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 根据Map所设置的条件查询用户
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testSelectByMap</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//执行SQL为：SELECT id,name,age,email FROM user WHERE age = ?</span>
    Map&lt;String,Object&gt; map = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">HashMap</span>&lt;&gt;();
    map.put(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">18</span>);
    List&lt;User&gt; users = userMapper.selectByMap(map);
    users.forEach(System.out::println);
}
</code></pre><h4 data-source-line="471" data-source-line-end="472" data-token-idx="415" id="d%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF" data-tag="h4">d、查询所有用户信息</h4><blockquote data-source-line="473" data-source-line-end="474" data-token-idx="418"><p data-source-line="473" data-source-line-end="474" data-token-idx="419">**调用方法：List<t> selectList(@Param(Constants.WRAPPER) Wrapper<t> queryWrapper);**</t></t></p></blockquote><pre data-info="java" data-lang="java" data-source-line="475" data-source-line-end="485"><code data-token-idx="423" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 测试查询所有数据
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testSelectList</span><span class="hljs-params">()</span>{
    List&lt;User&gt; users = userMapper.selectList(<span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>);
    users.forEach(System.out::println);
}
</code></pre><h2 data-source-line="488" data-source-line-end="489" data-token-idx="424" id="3.%E9%80%9A%E7%94%A8service" data-tag="h2">3.通用Service</h2><blockquote data-source-line="490" data-source-line-end="496" data-token-idx="427"><p data-source-line="490" data-source-line-end="491" data-token-idx="428">说明:</p><ul data-source-line="492" data-source-line-end="496" data-token-idx="431"><li data-source-line="492" data-source-line-end="493" data-token-idx="432">通用 Service CRUD 封装<code class="copy-inner-text">IService</code>接口，进一步封装 CRUD 采用 <code class="copy-inner-text">get 查询单行</code> <code class="copy-inner-text">remove 删除</code> <code class="copy-inner-text">list 查询集合</code> <code class="copy-inner-text">page 分页</code> 前缀命名方式区分 <code class="copy-inner-text">Mapper</code> 层避免混淆，</li><li data-source-line="493" data-source-line-end="494" data-token-idx="437">泛型 <code class="copy-inner-text">T</code> 为任意实体对象</li><li data-source-line="494" data-source-line-end="495" data-token-idx="442">建议如果存在自定义通用 Service 方法的可能，请创建自己的 <code class="copy-inner-text">IBaseService</code> 继承 <code class="copy-inner-text">Mybatis-Plus</code> 提供的基类</li><li data-source-line="495" data-source-line-end="496" data-token-idx="447">对象 <code class="copy-inner-text">Wrapper</code> 为 条件构造器</li></ul></blockquote><p data-source-line="497" data-source-line-end="498" data-token-idx="454">MyBatis-Plus中有一个接口 **<code class="copy-inner-text">IService</code>**和其实现类 <strong><code class="copy-inner-text">ServiceImpl</code></strong>，封装了常见的业务层逻辑，详情查看源码IService和ServiceImpl</p><p data-source-line="499" data-source-line-end="500" data-token-idx="457">因此我们在使用的时候仅需在自己定义的**<code class="copy-inner-text">Service</code><strong>接口中继承</strong><code class="copy-inner-text">IService</code><strong>接口，在自己的实现类中实现自己的Service并继承</strong><code class="copy-inner-text">ServiceImpl</code>**即可</p><hr data-source-line="501" data-source-line-end="502" data-token-idx="460"><blockquote data-source-line="503" data-source-line-end="504" data-token-idx="461"><p data-source-line="503" data-source-line-end="504" data-token-idx="462"><strong>IService中的CRUD方法</strong></p></blockquote><ul data-source-line="505" data-source-line-end="612" data-token-idx="466"><li data-source-line="505" data-source-line-end="525" data-token-idx="467"><p data-source-line="505" data-source-line-end="506" data-token-idx="468"><strong>增加：Save、SaveOrUpdate</strong></p><pre data-info="java" data-lang="java" data-source-line="507" data-source-line-end="524"><code data-token-idx="471" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 插入一条记录（选择字段，策略插入）</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">save</span><span class="hljs-params">(T entity)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 插入（批量）</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">saveBatch</span><span class="hljs-params">(Collection&lt;T&gt; entityList)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 插入（批量）</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">saveBatch</span><span class="hljs-params">(Collection&lt;T&gt; entityList, <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> batchSize)</span>;

<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// TableId 注解存在更新记录，否插入一条记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">saveOrUpdate</span><span class="hljs-params">(T entity)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据updateWrapper尝试更新，否继续执行saveOrUpdate(T)方法</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">saveOrUpdate</span><span class="hljs-params">(T entity, Wrapper&lt;T&gt; updateWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 批量修改插入</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">saveOrUpdateBatch</span><span class="hljs-params">(Collection&lt;T&gt; entityList)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 批量修改插入</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">saveOrUpdateBatch</span><span class="hljs-params">(Collection&lt;T&gt; entityList, <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> batchSize)</span>;
</code></pre></li><li data-source-line="525" data-source-line-end="538" data-token-idx="473"><p data-source-line="525" data-source-line-end="526" data-token-idx="474"><strong>删除：Remove</strong></p><pre data-info="java" data-lang="java" data-source-line="527" data-source-line-end="537"><code data-token-idx="477" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 entity 条件，删除记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">remove</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 ID 删除</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">removeById</span><span class="hljs-params">(Serializable id)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 columnMap 条件，删除记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">removeByMap</span><span class="hljs-params">(Map&lt;String, Object&gt; columnMap)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 删除（根据ID 批量删除）</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">removeByIds</span><span class="hljs-params">(Collection&lt;? extends Serializable&gt; idList)</span>;
</code></pre></li><li data-source-line="538" data-source-line-end="553" data-token-idx="479"><p data-source-line="538" data-source-line-end="539" data-token-idx="480"><strong>修改：Update</strong></p><pre data-info="java" data-lang="java" data-source-line="540" data-source-line-end="552"><code data-token-idx="483" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 UpdateWrapper 条件，更新记录 需要设置sqlset</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">update</span><span class="hljs-params">(Wrapper&lt;T&gt; updateWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 whereWrapper 条件，更新记录</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">update</span><span class="hljs-params">(T updateEntity, Wrapper&lt;T&gt; whereWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 ID 选择修改</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">updateById</span><span class="hljs-params">(T entity)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据ID 批量更新</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">updateBatchById</span><span class="hljs-params">(Collection&lt;T&gt; entityList)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据ID 批量更新</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">updateBatchById</span><span class="hljs-params">(Collection&lt;T&gt; entityList, <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> batchSize)</span>;
</code></pre></li><li data-source-line="553" data-source-line-end="595" data-token-idx="485"><p data-source-line="553" data-source-line-end="554" data-token-idx="486"><strong>查询：Get、List、Count</strong></p><pre data-info="java" data-lang="java" data-source-line="555" data-source-line-end="594"><code data-token-idx="489" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 ID 查询</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getById</span><span class="hljs-params">(Serializable id)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last("LIMIT 1")</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getOne</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getOne</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper, <span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> throwEx)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录</span>
Map&lt;String, Object&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getMap</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录</span>
&lt;V&gt; V <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getObj</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class="hljs-built_in" style="color: rgb(230, 192, 123);">super</span> Object, V&gt; mapper)</span>;


<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询所有</span>
List&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">list</span><span class="hljs-params">()</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询列表</span>
List&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">list</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询（根据ID 批量查询）</span>
Collection&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listByIds</span><span class="hljs-params">(Collection&lt;? extends Serializable&gt; idList)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询（根据 columnMap 条件）</span>
Collection&lt;T&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listByMap</span><span class="hljs-params">(Map&lt;String, Object&gt; columnMap)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询所有列表</span>
List&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listMaps</span><span class="hljs-params">()</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询列表</span>
List&lt;Map&lt;String, Object&gt;&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listMaps</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询全部记录</span>
List&lt;Object&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listObjs</span><span class="hljs-params">()</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询全部记录</span>
&lt;V&gt; List&lt;V&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listObjs</span><span class="hljs-params">(Function&lt;? <span class="hljs-built_in" style="color: rgb(230, 192, 123);">super</span> Object, V&gt; mapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper 条件，查询全部记录</span>
List&lt;Object&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listObjs</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper 条件，查询全部记录</span>
&lt;V&gt; List&lt;V&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">listObjs</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class="hljs-built_in" style="color: rgb(230, 192, 123);">super</span> Object, V&gt; mapper)</span>;

<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 查询总记录数</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">count</span><span class="hljs-params">()</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper 条件，查询总记录数</span>
<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">count</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
</code></pre></li><li data-source-line="595" data-source-line-end="612" data-token-idx="491"><p data-source-line="595" data-source-line-end="596" data-token-idx="492"><strong>分页：Page</strong></p><pre data-info="java" data-lang="java" data-source-line="597" data-source-line-end="609"><code data-token-idx="495" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 ID 查询</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getById</span><span class="hljs-params">(Serializable id)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last("LIMIT 1")</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getOne</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录</span>
T <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getOne</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper, <span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> throwEx)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录</span>
Map&lt;String, Object&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getMap</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper)</span>;
<span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">// 根据 Wrapper，查询一条记录</span>
&lt;V&gt; V <span class="hljs-title function_" style="color: rgb(97, 174, 238);">getObj</span><span class="hljs-params">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class="hljs-built_in" style="color: rgb(230, 192, 123);">super</span> Object, V&gt; mapper)</span>;
</code></pre></li></ul><h2 data-source-line="612" data-source-line-end="613" data-token-idx="498" id="4.%E8%B0%83%E7%94%A8service%E5%B1%82%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE" data-tag="h2">4.调用Service层操作数据</h2><blockquote data-source-line="614" data-source-line-end="615" data-token-idx="501"><p data-source-line="614" data-source-line-end="615" data-token-idx="502">我们在自己的Service接口中通过继承MyBatis-Plus提供的IService接口，不仅可以获得其提供的CRUD方法，而且还可以使用自身定义的方法。</p></blockquote><ul data-source-line="616" data-source-line-end="671" data-token-idx="506"><li data-source-line="616" data-source-line-end="625" data-token-idx="507"><p data-source-line="616" data-source-line-end="617" data-token-idx="508"><strong>创建<code class="copy-inner-text">UserService</code>并继承<code class="copy-inner-text">IService</code></strong></p><pre data-info="java" data-lang="java" data-source-line="618" data-source-line-end="624"><code data-token-idx="511" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * UserService继承IService模板提供的基础功能 
  */</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">interface</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">UserService</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">extends</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">IService</span>&lt;User&gt; {}
</code></pre></li><li data-source-line="625" data-source-line-end="636" data-token-idx="513"><p data-source-line="625" data-source-line-end="626" data-token-idx="514"><strong>创建<code class="copy-inner-text">UserService</code>的实现类并继承<code class="copy-inner-text">ServiceImpl</code></strong></p><pre data-info="java" data-lang="java" data-source-line="627" data-source-line-end="635"><code data-token-idx="517" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * ServiceImpl实现了IService，提供了IService中基础功能的实现 
  * 若ServiceImpl无法满足业务需求，则可以使用自定的UserService定义方法，并在实现类中实现
  */</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Service</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">UserServiceImpl</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">extends</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">ServiceImpl</span>&lt;UserMapper,User&gt; <span class="hljs-keyword" style="color: rgb(198, 120, 221);">implements</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">UserService</span>{}
</code></pre></li><li data-source-line="636" data-source-line-end="650" data-token-idx="519"><p data-source-line="636" data-source-line-end="637" data-token-idx="520"><strong>测试查询记录数</strong></p><blockquote data-source-line="638" data-source-line-end="639" data-token-idx="523"><p data-source-line="638" data-source-line-end="639" data-token-idx="524"><strong>调用方法：int count();</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="640" data-source-line-end="649"><code data-token-idx="528" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testGetCount</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//查询总记录数</span>
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//执行的SQL为：SELECT COUNT( * ) FROM user</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">long</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">count</span> <span class="hljs-operator">=</span> userService.count();
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"总记录数："</span> + count);
}
</code></pre></li><li data-source-line="650" data-source-line-end="671" data-token-idx="530"><p data-source-line="650" data-source-line-end="651" data-token-idx="531"><strong>测试批量插入数据</strong></p><blockquote data-source-line="652" data-source-line-end="653" data-token-idx="534"><p data-source-line="652" data-source-line-end="653" data-token-idx="535">**调用方法：boolean saveBatch(Collection<t> entityList);**</t></p></blockquote><pre data-info="java" data-lang="java" data-source-line="654" data-source-line-end="668"><code data-token-idx="539" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test</span><span class="hljs-params">()</span>{
    List&lt;User&gt; list = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">ArrayList</span>&lt;&gt;();
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">for</span> (<span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">i</span> <span class="hljs-operator">=</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>; i &lt;= <span class="hljs-number" style="color: rgb(209, 154, 102);">10</span>; i++) {
        <span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span>();
        user.setName(<span class="hljs-string" style="color: rgb(152, 195, 121);">"Vz"</span>+i);
        user.setAge(<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>+i);
        list.add(user);
    }
    <span class="hljs-type" style="color: rgb(209, 154, 102);">boolean</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">b</span> <span class="hljs-operator">=</span> userService.saveBatch(list);
    System.out.println(b ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"添加成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"添加失败！"</span>);
}
</code></pre></li></ul><h1 data-source-line="671" data-source-line-end="672" data-token-idx="542" id="%E5%9B%9B%E3%80%81%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3" data-tag="h1">四、常用注解</h1><blockquote data-source-line="673" data-source-line-end="674" data-token-idx="545"><p data-source-line="673" data-source-line-end="674" data-token-idx="546">MyBatis-Plus提供的注解可以帮我们解决一些数据库与实体之间相互映射的问题。</p></blockquote><h2 data-source-line="677" data-source-line-end="678" data-token-idx="550" id="1.%40tablename" data-tag="h2">1.@TableName</h2><blockquote data-source-line="679" data-source-line-end="680" data-token-idx="553"><p data-source-line="679" data-source-line-end="680" data-token-idx="554">经过以上的测试，在使用MyBatis-Plus实现基本的CRUD时，我们并没有指定要操作的表，只是在Mapper接口继承BaseMapper时，设置了泛型User，而操作的表为user表，由此得出结论，MyBatis-Plus在确定操作的表时，由BaseMapper的泛型决定，即实体类型决定，且默认操作的表名和实体类型的类名一致。</p></blockquote><h3 data-source-line="683" data-source-line-end="684" data-token-idx="558" id="1.1-%E5%BC%95%E5%87%BA%E9%97%AE%E9%A2%98" data-tag="h3">1.1	引出问题</h3><hr data-source-line="685" data-source-line-end="686" data-token-idx="561"><blockquote data-source-line="687" data-source-line-end="688" data-token-idx="562"><p data-source-line="687" data-source-line-end="688" data-token-idx="563"><strong>若实体类类型的类名和要操作的表的表名不一致，会出现什么问题？</strong></p></blockquote><ul data-source-line="689" data-source-line-end="699" data-token-idx="567"><li data-source-line="689" data-source-line-end="693" data-token-idx="568"><p data-source-line="689" data-source-line-end="690" data-token-idx="569">我们将表<code class="copy-inner-text">user</code>更名为<code class="copy-inner-text">t_user</code>，测试查询功能</p><p data-source-line="691" data-source-line-end="692" data-token-idx="572"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520093844842.png" alt="image-20220520093844842"></p></li><li data-source-line="693" data-source-line-end="699" data-token-idx="576"><p data-source-line="693" data-source-line-end="694" data-token-idx="577">程序抛出异常，<strong>Table 'mybatis_plus.user' doesn't exist</strong>，因为现在的表名为<code class="copy-inner-text">t_user</code>，而默认操作的表名和实体类型的类名一致，即<code class="copy-inner-text">user</code>表</p><p data-source-line="695" data-source-line-end="696" data-token-idx="580"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520094126411.png" alt="image-20220520094126411"></p></li></ul><h3 data-source-line="699" data-source-line-end="700" data-token-idx="585" id="1.2-%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98" data-tag="h3">1.2	解决问题</h3><hr data-source-line="701" data-source-line-end="702" data-token-idx="588"><h4 data-source-line="705" data-source-line-end="706" data-token-idx="589" id="a%E3%80%81%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98" data-tag="h4">a、使用注解解决问题</h4><blockquote data-source-line="707" data-source-line-end="708" data-token-idx="592"><p data-source-line="707" data-source-line-end="708" data-token-idx="593"><strong>在实体类类型上添加<code class="copy-inner-text">@TableName("t_user")</code>，标识实体类对应的表，即可成功执行SQL语句</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="709" data-source-line-end="719"><code data-token-idx="597" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Data</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@TableName("t_user")</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span> {
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer age;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String email;
}
</code></pre><h4 data-source-line="722" data-source-line-end="723" data-token-idx="598" id="b%E3%80%81%E4%BD%BF%E7%94%A8%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98" data-tag="h4">b、使用全局配置解决问题</h4><blockquote data-source-line="724" data-source-line-end="725" data-token-idx="601"><p data-source-line="724" data-source-line-end="725" data-token-idx="602"><strong>在开发的过程中，我们经常遇到以上的问题，即实体类所对应的表都有固定的前缀，例如 <code class="copy-inner-text">t_</code> 或 <code class="copy-inner-text">tbl_</code> 此时，可以使用MyBatis-Plus提供的全局配置，为实体类所对应的表名设置默认的前缀，那么就不需要在每个实体类上通过@TableName标识实体类对应的表</strong></p></blockquote><pre data-info="yml" data-lang="yml" data-source-line="726" data-source-line-end="733"><code data-token-idx="606" class="language-yml"><span class="hljs-attr" style="color: rgb(209, 154, 102);">mybatis-plus:</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">global-config:</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">db-config:</span>
      <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;"># 设置实体类所对应的表的统一前缀</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">table-prefix:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">t_</span>
</code></pre><h2 data-source-line="738" data-source-line-end="739" data-token-idx="607" id="2.%40tableid" data-tag="h2">2.@TableId</h2><blockquote data-source-line="740" data-source-line-end="741" data-token-idx="610"><p data-source-line="740" data-source-line-end="741" data-token-idx="611"><strong>经过以上的测试，MyBatis-Plus在实现CRUD时，会默认将id作为主键列，并在插入数据时，默认基于雪花算法的策略生成id</strong></p></blockquote><h3 data-source-line="744" data-source-line-end="745" data-token-idx="615" id="2.1-%E5%BC%95%E5%87%BA%E9%97%AE%E9%A2%98" data-tag="h3">2.1	引出问题</h3><hr data-source-line="746" data-source-line-end="747" data-token-idx="618"><blockquote data-source-line="748" data-source-line-end="749" data-token-idx="619"><p data-source-line="748" data-source-line-end="749" data-token-idx="620"><strong>若实体类和表中表示主键的不是id，而是其他字段，例如uid，MyBatis-Plus会自动识别uid为主键列吗？</strong></p></blockquote><ul data-source-line="750" data-source-line-end="762" data-token-idx="624"><li data-source-line="750" data-source-line-end="756" data-token-idx="625"><p data-source-line="750" data-source-line-end="751" data-token-idx="626">我们实体类中的属性<code class="copy-inner-text">id</code>改为<code class="copy-inner-text">uid</code>，将表中的字段<code class="copy-inner-text">id</code>也改为<code class="copy-inner-text">uid</code>，测试添加功能</p><p data-source-line="752" data-source-line-end="753" data-token-idx="629"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520100939157.png" alt="image-20220520100939157"></p><p data-source-line="754" data-source-line-end="755" data-token-idx="632"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520100715109.png" alt="image-20220520100715109"></p></li><li data-source-line="756" data-source-line-end="762" data-token-idx="636"><p data-source-line="756" data-source-line-end="757" data-token-idx="637">程序抛出异常，<strong>Field 'uid' doesn't have a default value</strong>，说明MyBatis-Plus没有将<code class="copy-inner-text">uid</code>作为主键赋值</p><p data-source-line="758" data-source-line-end="759" data-token-idx="640"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520101317761.png" alt="image-20220520101317761"></p></li></ul><h3 data-source-line="762" data-source-line-end="763" data-token-idx="645" id="2.2-%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98" data-tag="h3">2.2	解决问题</h3><hr data-source-line="764" data-source-line-end="765" data-token-idx="648"><blockquote data-source-line="766" data-source-line-end="767" data-token-idx="649"><p data-source-line="766" data-source-line-end="767" data-token-idx="650"><strong>在实体类中uid属性上通过<code class="copy-inner-text">@TableId</code>将其标识为主键，即可成功执行SQL语句</strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="768" data-source-line-end="778"><code data-token-idx="654" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Date</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span> {
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@TableId</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long uid;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer age;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String email;
}
</code></pre><h3 data-source-line="781" data-source-line-end="782" data-token-idx="655" id="2.3-%40tableid%E7%9A%84value%E5%B1%9E%E6%80%A7" data-tag="h3">2.3	@TableId的value属性</h3><hr data-source-line="783" data-source-line-end="784" data-token-idx="658"><blockquote data-source-line="785" data-source-line-end="786" data-token-idx="659"><p data-source-line="785" data-source-line-end="786" data-token-idx="660">若实体类中主键对应的属性为id，而表中表示主键的字段为uid，此时若只在属性id上添加注解@TableId，则抛出异常<strong>Unknown column 'id' in 'field list'</strong>，即MyBatis-Plus仍然会将id作为表的主键操作，而表中表示主键的是字段uid此时需要通过@TableId注解的value属性，指定表中的主键字段，<code class="copy-inner-text">@TableId("uid")</code>或<code class="copy-inner-text">@TableId(value="uid")</code></p></blockquote><p data-source-line="787" data-source-line-end="788" data-token-idx="664"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520103030977.png" alt="image-20220520103030977"></p><h3 data-source-line="791" data-source-line-end="792" data-token-idx="667" id="2.4-%40tableid%E7%9A%84type%E5%B1%9E%E6%80%A7" data-tag="h3">2.4	@TableId的type属性</h3><hr data-source-line="793" data-source-line-end="794" data-token-idx="670"><blockquote data-source-line="795" data-source-line-end="796" data-token-idx="671"><p data-source-line="795" data-source-line-end="796" data-token-idx="672"><strong>type属性用来定义主键策略：默认雪花算法</strong></p></blockquote><p data-source-line="797" data-source-line-end="798" data-token-idx="676"><strong>常用的主键策略：</strong></p><div class="table-wrapper"><table data-source-line="799" data-source-line-end="803" data-token-idx="679"><thead data-source-line="799" data-source-line-end="800" data-token-idx="680"><tr data-source-line="799" data-source-line-end="800" data-token-idx="681"><th data-source-line="799" data-source-line-end="800" data-token-idx="682" class="yn-table-cell" style="text-align: center;">值</th><th data-source-line="799" data-source-line-end="800" data-token-idx="685" class="yn-table-cell" style="text-align: center;">描述</th></tr></thead><tbody data-source-line="801" data-source-line-end="803" data-token-idx="690"><tr data-source-line="801" data-source-line-end="802" data-token-idx="691"><td data-source-line="801" data-source-line-end="802" data-token-idx="692" class="yn-table-cell" style="text-align: center;">IdType.ASSIGN_ID（默认）</td><td data-source-line="801" data-source-line-end="802" data-token-idx="695" class="yn-table-cell" style="text-align: center;">基于雪花算法的策略生成数据id，与数据库id是否设置自增无关</td></tr><tr data-source-line="802" data-source-line-end="803" data-token-idx="699"><td data-source-line="802" data-source-line-end="803" data-token-idx="700" class="yn-table-cell" style="text-align: center;">IdType.AUTO</td><td data-source-line="802" data-source-line-end="803" data-token-idx="703" class="yn-table-cell" style="text-align: center;">使用数据库的自增策略，注意，该类型请确保数据库设置了id自增，</td></tr></tbody></table></div><p data-source-line="806" data-source-line-end="807" data-token-idx="709"><strong>配置全局主键策略：</strong></p><pre data-info="yml" data-lang="yml" data-source-line="808" data-source-line-end="821"><code data-token-idx="712" class="language-yml"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#MyBatis-Plus相关配置</span>
<span class="hljs-attr" style="color: rgb(209, 154, 102);">mybatis-plus:</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">configuration:</span>
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置日志</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">log-impl:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">org.apache.ibatis.logging.stdout.StdOutImpl</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">global-config:</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">db-config:</span>
      <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置mp的主键策略为自增</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">id-type:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">auto</span>
      <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;"># 设置实体类所对应的表的统一前缀</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">table-prefix:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">t_</span>
</code></pre><h2 data-source-line="824" data-source-line-end="825" data-token-idx="713" id="3.%40tbalefield" data-tag="h2">3.@TbaleField</h2><blockquote data-source-line="826" data-source-line-end="829" data-token-idx="716"><p data-source-line="826" data-source-line-end="827" data-token-idx="717">经过以上的测试，我们可以发现，MyBatis-Plus在执行SQL语句时，要保证实体类中的属性名和表中的字段名一致</p><p data-source-line="828" data-source-line-end="829" data-token-idx="720">如果实体类中的属性名和字段名不一致的情况，会出现什么问题呢？</p></blockquote><h3 data-source-line="832" data-source-line-end="833" data-token-idx="724" id="3.1-%E6%83%85%E5%86%B5%E4%B8%80" data-tag="h3">3.1	情况一</h3><hr data-source-line="834" data-source-line-end="835" data-token-idx="727"><p data-source-line="836" data-source-line-end="837" data-token-idx="728">若实体类中的属性使用的是驼峰命名风格，而表中的字段使用的是下划线命名风格</p><p data-source-line="838" data-source-line-end="839" data-token-idx="731">例如实体类属性<code class="copy-inner-text">userName</code>，表中字段<code class="copy-inner-text">user_name</code></p><p data-source-line="840" data-source-line-end="841" data-token-idx="734">此时MyBatis-Plus会自动将下划线命名风格转化为驼峰命名风格</p><p data-source-line="842" data-source-line-end="843" data-token-idx="737">相当于在MyBatis中配置</p><h3 data-source-line="846" data-source-line-end="847" data-token-idx="740" id="3.2-%E6%83%85%E5%86%B5%E4%BA%8C" data-tag="h3">3.2	情况二</h3><hr data-source-line="848" data-source-line-end="849" data-token-idx="743"><blockquote data-source-line="850" data-source-line-end="855" data-token-idx="744"><p data-source-line="850" data-source-line-end="851" data-token-idx="745">若实体类中的属性和表中的字段不满足情况1</p><p data-source-line="852" data-source-line-end="853" data-token-idx="748">例如实体类属性<code class="copy-inner-text">name</code>，表中字段<code class="copy-inner-text">username</code></p><p data-source-line="854" data-source-line-end="855" data-token-idx="751">此时需要在实体类属性上使用<code class="copy-inner-text">@TableField("username")</code>设置属性所对应的字段名</p></blockquote><pre data-info="java" data-lang="java" data-source-line="856" data-source-line-end="866"><code data-token-idx="755" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span> {
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@TableId("uid")</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@TableField("username")</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer age;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String email;
}
</code></pre><h2 data-source-line="869" data-source-line-end="870" data-token-idx="756" id="4.%40tablelogic" data-tag="h2">4.@TableLogic</h2><h3 data-source-line="873" data-source-line-end="874" data-token-idx="759" id="4.1-%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4" data-tag="h3">4.1	逻辑删除</h3><hr data-source-line="875" data-source-line-end="876" data-token-idx="762"><blockquote data-source-line="877" data-source-line-end="882" data-token-idx="763"><p data-source-line="877" data-source-line-end="878" data-token-idx="764">物理删除：真实删除，将对应数据从数据库中删除，之后查询不到此条被删除的数据</p><p data-source-line="879" data-source-line-end="880" data-token-idx="767">逻辑删除：假删除，将对应数据中代表是否被删除字段的状态修改为“被删除状态”，之后在数据库中仍旧能看到此条数据记录</p><p data-source-line="881" data-source-line-end="882" data-token-idx="770">使用场景：可以进行数据恢复</p></blockquote><h3 data-source-line="885" data-source-line-end="886" data-token-idx="774" id="4.2-%E5%AE%9E%E7%8E%B0%E9%80%BB%E8%BE%91%E5%88%A0%E9%99%A4" data-tag="h3">4.2	实现逻辑删除</h3><hr data-source-line="887" data-source-line-end="888" data-token-idx="777"><ul data-source-line="889" data-source-line-end="917" data-token-idx="778"><li data-source-line="889" data-source-line-end="893" data-token-idx="779"><p data-source-line="889" data-source-line-end="890" data-token-idx="780"><strong>数据库中创建逻辑删除状态列，设置默认值为0</strong></p><p data-source-line="891" data-source-line-end="892" data-token-idx="783"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520134529809.png" alt="image-20220520134529809"></p></li><li data-source-line="893" data-source-line-end="897" data-token-idx="787"><p data-source-line="893" data-source-line-end="894" data-token-idx="788"><strong>实体类中添加逻辑删除属性</strong></p><p data-source-line="895" data-source-line-end="896" data-token-idx="791"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520134636112.png" alt="image-20220520134636112"></p></li><li data-source-line="897" data-source-line-end="909" data-token-idx="795"><p data-source-line="897" data-source-line-end="898" data-token-idx="796"><strong>测试删除功能，真正执行的是修改</strong></p><pre data-info="java" data-lang="java" data-source-line="899" data-source-line-end="906"><code data-token-idx="799" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testDeleteById</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.deleteById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1527472864163348482L</span>);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre><p data-source-line="907" data-source-line-end="908" data-token-idx="800"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520135637388.png" alt="image-20220520135637388"></p></li><li data-source-line="909" data-source-line-end="917" data-token-idx="804"><p data-source-line="909" data-source-line-end="910" data-token-idx="805"><strong>此时执行查询方法，查询的结果为自动添加条件<code class="copy-inner-text">is_deleted=0</code></strong></p><p data-source-line="911" data-source-line-end="912" data-token-idx="808"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520140036445.png" alt="image-20220520140036445"></p></li></ul><h1 data-source-line="917" data-source-line-end="918" data-token-idx="813" id="%E4%BA%94%E3%80%81%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8" data-tag="h1">五、条件构造器</h1><h2 data-source-line="919" data-source-line-end="920" data-token-idx="816" id="1.wrapper%E4%BB%8B%E7%BB%8D" data-tag="h2">1.Wrapper介绍</h2><p data-source-line="921" data-source-line-end="922" data-token-idx="819"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521092812125.png" alt="image-20220521092812125"></p><ul data-source-line="923" data-source-line-end="939" data-token-idx="822"><li data-source-line="923" data-source-line-end="939" data-token-idx="823"><p data-source-line="923" data-source-line-end="924" data-token-idx="824"><code class="copy-inner-text">Wrapper</code> ： 条件构造抽象类，最顶端父类</p><ul data-source-line="925" data-source-line-end="939" data-token-idx="827"><li data-source-line="925" data-source-line-end="939" data-token-idx="828"><p data-source-line="925" data-source-line-end="926" data-token-idx="829"><code class="copy-inner-text">AbstractWrapper </code>： 用于查询条件封装，生成 sql 的 where 条件</p><ul data-source-line="927" data-source-line-end="939" data-token-idx="832"><li data-source-line="927" data-source-line-end="929" data-token-idx="833"><p data-source-line="927" data-source-line-end="928" data-token-idx="834"><code class="copy-inner-text">QueryWrapper </code>： 查询条件封装</p></li><li data-source-line="929" data-source-line-end="931" data-token-idx="838"><p data-source-line="929" data-source-line-end="930" data-token-idx="839"><code class="copy-inner-text">UpdateWrapper </code>： Update 条件封装</p></li><li data-source-line="931" data-source-line-end="939" data-token-idx="843"><p data-source-line="931" data-source-line-end="932" data-token-idx="844"><code class="copy-inner-text">AbstractLambdaWrapper </code>： 使用Lambda 语法</p><ul data-source-line="933" data-source-line-end="939" data-token-idx="847"><li data-source-line="933" data-source-line-end="935" data-token-idx="848"><p data-source-line="933" data-source-line-end="934" data-token-idx="849"><code class="copy-inner-text">LambdaQueryWrapper </code>：用于Lambda语法使用的查询Wrapper</p></li><li data-source-line="935" data-source-line-end="939" data-token-idx="853"><p data-source-line="935" data-source-line-end="936" data-token-idx="854"><code class="copy-inner-text">LambdaUpdateWrapper </code>： Lambda 更新封装Wrapper</p></li></ul></li></ul></li></ul></li></ul><h2 data-source-line="939" data-source-line-end="940" data-token-idx="865" id="2.querywrapper" data-tag="h2">2.QueryWrapper</h2><ul data-source-line="941" data-source-line-end="1050" data-token-idx="868"><li data-source-line="941" data-source-line-end="955" data-token-idx="869"><p data-source-line="941" data-source-line-end="942" data-token-idx="870"><strong>组装查询条件</strong></p><blockquote data-source-line="943" data-source-line-end="944" data-token-idx="873"><p data-source-line="943" data-source-line-end="944" data-token-idx="874">**执行SQL：**SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (username LIKE ? AND age BETWEEN ? AND ? AND email IS NOT NULL)</p></blockquote><pre data-info="java" data-lang="java" data-source-line="945" data-source-line-end="954"><code data-token-idx="878" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test01</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//查询用户名包含a，年龄在20到30之间，邮箱信息不为null的用户信息</span>
    QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">QueryWrapper</span>&lt;&gt;();
    queryWrapper.like(<span class="hljs-string" style="color: rgb(152, 195, 121);">"username"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>).between(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>).isNotNull(<span class="hljs-string" style="color: rgb(152, 195, 121);">"email"</span>);
    List&lt;User&gt; users = userMapper.selectList(queryWrapper);
    users.forEach(System.out::println);
}
</code></pre></li><li data-source-line="955" data-source-line-end="969" data-token-idx="880"><p data-source-line="955" data-source-line-end="956" data-token-idx="881"><strong>组装排序条件</strong></p><blockquote data-source-line="957" data-source-line-end="958" data-token-idx="884"><p data-source-line="957" data-source-line-end="958" data-token-idx="885">**执行SQL：**SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY age DESC,id ASC</p></blockquote><pre data-info="java" data-lang="java" data-source-line="959" data-source-line-end="968"><code data-token-idx="889" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test02</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//查询用户信息，按照年龄的降序排序，若年龄相同，则按照id升序排序</span>
    QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">QueryWrapper</span>&lt;&gt;();
    queryWrapper.orderByDesc(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>).orderByAsc(<span class="hljs-string" style="color: rgb(152, 195, 121);">"id"</span>);
    List&lt;User&gt; users = userMapper.selectList(queryWrapper);
    users.forEach(System.out::println);
}
</code></pre></li><li data-source-line="969" data-source-line-end="984" data-token-idx="891"><p data-source-line="969" data-source-line-end="970" data-token-idx="892"><strong>组装删除条件</strong></p><blockquote data-source-line="971" data-source-line-end="972" data-token-idx="895"><p data-source-line="971" data-source-line-end="972" data-token-idx="896">**执行SQL：**UPDATE t_user SET is_deleted=1 WHERE is_deleted=0 AND (email IS NULL)</p></blockquote><pre data-info="java" data-lang="java" data-source-line="973" data-source-line-end="983"><code data-token-idx="900" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test03</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//删除邮箱地址为null的用户信息</span>
    QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">QueryWrapper</span>&lt;&gt;();
    queryWrapper.isNull(<span class="hljs-string" style="color: rgb(152, 195, 121);">"email"</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.delete(queryWrapper);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"删除失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre></li><li data-source-line="984" data-source-line-end="1020" data-token-idx="902"><p data-source-line="984" data-source-line-end="985" data-token-idx="903"><strong>条件的优先级</strong></p><blockquote data-source-line="986" data-source-line-end="987" data-token-idx="906"><p data-source-line="986" data-source-line-end="987" data-token-idx="907">**执行SQL：**UPDATE t_user SET user_name=?, email=? WHERE is_deleted=0 AND (age &gt; ? AND user_name LIKE ? OR email IS NULL)</p></blockquote><pre data-info="java" data-lang="java" data-source-line="988" data-source-line-end="1002"><code data-token-idx="911" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test04</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//将（年龄大于20并且用户名中包含有a）或邮箱为null的用户信息修改</span>
    UpdateWrapper&lt;User&gt; updateWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">UpdateWrapper</span>&lt;&gt;();
    updateWrapper.gt(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>).like(<span class="hljs-string" style="color: rgb(152, 195, 121);">"username"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>).or().isNull(<span class="hljs-string" style="color: rgb(152, 195, 121);">"email"</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span>();
    user.setName(<span class="hljs-string" style="color: rgb(152, 195, 121);">"Oz"</span>);
    user.setEmail(<span class="hljs-string" style="color: rgb(152, 195, 121);">"test@oz6.com"</span>);

    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.update(user, updateWrapper);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre><blockquote data-source-line="1003" data-source-line-end="1004" data-token-idx="912"><p data-source-line="1003" data-source-line-end="1004" data-token-idx="913">**执行SQL：**UPDATE t_user SET username=?, email=? WHERE is_deleted=0 AND (username LIKE ? AND (age &gt; ? OR email IS NULL))</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1005" data-source-line-end="1019"><code data-token-idx="917" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test05</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span>
    UpdateWrapper&lt;User&gt; updateWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">UpdateWrapper</span>&lt;&gt;();
    updateWrapper.like(<span class="hljs-string" style="color: rgb(152, 195, 121);">"username"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>).and(i-&gt;i.gt(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>).or().isNull(<span class="hljs-string" style="color: rgb(152, 195, 121);">"email"</span>));
    <span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span>();
    user.setName(<span class="hljs-string" style="color: rgb(152, 195, 121);">"Vz7797"</span>);
    user.setEmail(<span class="hljs-string" style="color: rgb(152, 195, 121);">"test@ss8o.com"</span>);

    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.update(user, updateWrapper);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre></li><li data-source-line="1020" data-source-line-end="1034" data-token-idx="919"><p data-source-line="1020" data-source-line-end="1021" data-token-idx="920"><strong>组装select子句</strong></p><blockquote data-source-line="1022" data-source-line-end="1023" data-token-idx="923"><p data-source-line="1022" data-source-line-end="1023" data-token-idx="924">**执行SQL：**SELECT username,age,email FROM t_user WHERE is_deleted=0</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1024" data-source-line-end="1033"><code data-token-idx="928" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test06</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//查询用户的用户名、年龄、邮箱信息</span>
    QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">QueryWrapper</span>&lt;&gt;();
    queryWrapper.select(<span class="hljs-string" style="color: rgb(152, 195, 121);">"username"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"email"</span>);
    List&lt;Map&lt;String, Object&gt;&gt; maps = userMapper.selectMaps(queryWrapper);
    maps.forEach(System.out::println);
}
</code></pre></li><li data-source-line="1034" data-source-line-end="1050" data-token-idx="930"><p data-source-line="1034" data-source-line-end="1035" data-token-idx="931"><strong>实现子查询</strong></p><blockquote data-source-line="1036" data-source-line-end="1037" data-token-idx="934"><p data-source-line="1036" data-source-line-end="1037" data-token-idx="935">**执行SQL：**SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (uid IN (select uid from t_user where uid &lt;= 100))</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1038" data-source-line-end="1047"><code data-token-idx="939" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test07</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//查询id小于等于100的用户信息</span>
    QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">QueryWrapper</span>&lt;&gt;();
    queryWrapper.inSql(<span class="hljs-string" style="color: rgb(152, 195, 121);">"uid"</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">"select uid from t_user where uid &lt;= 100"</span>);
    List&lt;User&gt; list = userMapper.selectList(queryWrapper);
    list.forEach(System.out::println);
}
</code></pre></li></ul><h2 data-source-line="1050" data-source-line-end="1051" data-token-idx="942" id="3.updatewrapper" data-tag="h2">3.UpdateWrapper</h2><blockquote data-source-line="1052" data-source-line-end="1053" data-token-idx="945"><p data-source-line="1052" data-source-line-end="1053" data-token-idx="946">UpdateWrapper不仅拥有QueryWrapper的组装条件功能，还提供了set方法进行修改对应条件的数据库信息</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1054" data-source-line-end="1064"><code data-token-idx="950" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test08</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span>
    UpdateWrapper&lt;User&gt; updateWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">UpdateWrapper</span>&lt;&gt;();
    updateWrapper.like(<span class="hljs-string" style="color: rgb(152, 195, 121);">"username"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>).and( i -&gt; i.gt(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>).or().isNull(<span class="hljs-string" style="color: rgb(152, 195, 121);">"email"</span>)).set(<span class="hljs-string" style="color: rgb(152, 195, 121);">"email"</span>,<span class="hljs-string" style="color: rgb(152, 195, 121);">"svip@qq.com"</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.update(<span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>, updateWrapper);
    System.out.println(result &gt; <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> ? <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改成功！"</span> : <span class="hljs-string" style="color: rgb(152, 195, 121);">"修改失败！"</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"受影响的行数为："</span> + result);
}
</code></pre><h2 data-source-line="1067" data-source-line-end="1068" data-token-idx="951" id="4.condition" data-tag="h2">4.condition</h2><blockquote data-source-line="1069" data-source-line-end="1070" data-token-idx="954"><p data-source-line="1069" data-source-line-end="1070" data-token-idx="955">在真正开发的过程中，组装条件是常见的功能，而这些条件数据来源于用户输入，是可选的，因此我们在组装这些条件时，必须先判断用户是否选择了这些条件，若选择则需要组装该条件，若没有选择则一定不能组装，以免影响SQL执行的结果</p></blockquote><ul data-source-line="1073" data-source-line-end="1118" data-token-idx="959"><li data-source-line="1073" data-source-line-end="1098" data-token-idx="960"><p data-source-line="1073" data-source-line-end="1074" data-token-idx="961"><strong>思路一</strong></p><blockquote data-source-line="1075" data-source-line-end="1076" data-token-idx="964"><p data-source-line="1075" data-source-line-end="1076" data-token-idx="965">**执行SQL：**SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (user_name LIKE ? AND age &lt;= ?)</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1077" data-source-line-end="1097"><code data-token-idx="969" class="language-java"> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test09</span><span class="hljs-params">()</span>{
     <span class="hljs-type" style="color: rgb(209, 154, 102);">String</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">username</span> <span class="hljs-operator">=</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>;
     <span class="hljs-type" style="color: rgb(209, 154, 102);">Integer</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">ageBegin</span> <span class="hljs-operator">=</span> <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>;
     <span class="hljs-type" style="color: rgb(209, 154, 102);">Integer</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">ageEnd</span> <span class="hljs-operator">=</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>;
     QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">QueryWrapper</span>&lt;&gt;();
     <span class="hljs-keyword" style="color: rgb(198, 120, 221);">if</span>(StringUtils.isNotBlank(username)){
         <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//isNotBlank判断某个字符创是否不为空字符串、不为null、不为空白符</span>
         queryWrapper.like(<span class="hljs-string" style="color: rgb(152, 195, 121);">"user_name"</span>, username);
     }
     <span class="hljs-keyword" style="color: rgb(198, 120, 221);">if</span>(ageBegin != <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>){
         queryWrapper.ge(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>, ageBegin);
     }
     <span class="hljs-keyword" style="color: rgb(198, 120, 221);">if</span>(ageEnd != <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>){
         queryWrapper.le(<span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>, ageEnd);
     }
     List&lt;User&gt; list = userMapper.selectList(queryWrapper);
     list.forEach(System.out::println);
 }
</code></pre></li><li data-source-line="1098" data-source-line-end="1118" data-token-idx="971"><p data-source-line="1098" data-source-line-end="1099" data-token-idx="972"><strong>思路二</strong></p><blockquote data-source-line="1100" data-source-line-end="1101" data-token-idx="975"><p data-source-line="1100" data-source-line-end="1101" data-token-idx="976">上面的实现方案没有问题，但是代码比较复杂，我们可以使用带condition参数的重载方法构建查询条件，简化代码的编写</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1102" data-source-line-end="1115"><code data-token-idx="980" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test10</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">String</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">username</span> <span class="hljs-operator">=</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>;
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Integer</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">ageBegin</span> <span class="hljs-operator">=</span> <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>;
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Integer</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">ageEnd</span> <span class="hljs-operator">=</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>;
    QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">QueryWrapper</span>&lt;&gt;();
    queryWrapper.like(StringUtils.isNotBlank(username), <span class="hljs-string" style="color: rgb(152, 195, 121);">"user_name"</span>, username)
        .ge(ageBegin != <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>, ageBegin)
        .le(ageEnd != <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">"age"</span>, ageEnd);
    List&lt;User&gt; list = userMapper.selectList(queryWrapper);
    list.forEach(System.out::println);
}
</code></pre></li></ul><h2 data-source-line="1118" data-source-line-end="1119" data-token-idx="983" id="5.lambdaquerywrapper" data-tag="h2">5.LambdaQueryWrapper</h2><blockquote data-source-line="1120" data-source-line-end="1121" data-token-idx="986"><p data-source-line="1120" data-source-line-end="1121" data-token-idx="987">功能等同于QueryWrapper，提供了Lambda表达式的语法可以避免填错列名。</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1122" data-source-line-end="1135"><code data-token-idx="991" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test11</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">String</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">username</span> <span class="hljs-operator">=</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>;
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Integer</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">ageBegin</span> <span class="hljs-operator">=</span> <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>;
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Integer</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">ageEnd</span> <span class="hljs-operator">=</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>;
    LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">LambdaQueryWrapper</span>&lt;&gt;();
    queryWrapper.like(StringUtils.isNotBlank(username), User::getName, username)
        .ge(ageBegin != <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>, User::getAge, ageBegin)
        .le(ageEnd != <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>, User::getAge, ageEnd);
    List&lt;User&gt; list = userMapper.selectList(queryWrapper);
    list.forEach(System.out::println);
}
</code></pre><h2 data-source-line="1138" data-source-line-end="1139" data-token-idx="992" id="6.lambdaupdatewrapper" data-tag="h2">6.LambdaUpdateWrapper</h2><blockquote data-source-line="1140" data-source-line-end="1141" data-token-idx="995"><p data-source-line="1140" data-source-line-end="1141" data-token-idx="996">功能等同于UpdateWrapper，提供了Lambda表达式的语法可以避免填错列名。</p></blockquote><pre data-info="java" data-lang="java" data-source-line="1142" data-source-line-end="1153"><code data-token-idx="1000" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test12</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span>
    LambdaUpdateWrapper&lt;User&gt; updateWrapper = <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">LambdaUpdateWrapper</span>&lt;&gt;();
    updateWrapper.like(User::getName, <span class="hljs-string" style="color: rgb(152, 195, 121);">"a"</span>)
        .and(i -&gt; i.gt(User::getAge, <span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>).or().isNull(User::getEmail));
    updateWrapper.set(User::getName, <span class="hljs-string" style="color: rgb(152, 195, 121);">"小黑"</span>).set(User::getEmail,<span class="hljs-string" style="color: rgb(152, 195, 121);">"abc@atguigu.com"</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.update(<span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>, updateWrapper);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"result："</span>+result);
}
</code></pre><h1 data-source-line="1156" data-source-line-end="1157" data-token-idx="1001" id="%E5%85%AD%E3%80%81%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6" data-tag="h1">六、常用插件</h1><h2 data-source-line="1158" data-source-line-end="1159" data-token-idx="1004" id="1.%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6" data-tag="h2">1.分页插件</h2><blockquote data-source-line="1160" data-source-line-end="1161" data-token-idx="1007"><p data-source-line="1160" data-source-line-end="1161" data-token-idx="1008">MyBatis Plus自带分页插件，只要简单的配置即可实现分页功能</p></blockquote><ul data-source-line="1162" data-source-line-end="1192" data-token-idx="1012"><li data-source-line="1162" data-source-line-end="1178" data-token-idx="1013"><p data-source-line="1162" data-source-line-end="1163" data-token-idx="1014"><strong>添加配置类<code class="copy-inner-text">MyBatisPlusConfig</code></strong></p><pre data-info="java" data-lang="java" data-source-line="1164" data-source-line-end="1177"><code data-token-idx="1017" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Configuration</span>
<span class="hljs-meta" style="color: rgb(97, 174, 238);">@MapperScan("com.atguigu.mybatisplus.mapper")</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">MyBatisPlusConfig</span> {
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@Bean</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> MybatisPlusInterceptor <span class="hljs-title function_" style="color: rgb(97, 174, 238);">mybatisPlusInterceptor</span><span class="hljs-params">()</span>{
        <span class="hljs-type" style="color: rgb(209, 154, 102);">MybatisPlusInterceptor</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">MybatisPlusInterceptor</span>();
        <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//添加分页插件</span>
        interceptor.addInnerInterceptor(<span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">PaginationInnerInterceptor</span>(DbType.MYSQL));
        <span class="hljs-keyword" style="color: rgb(198, 120, 221);">return</span> interceptor;
    }
}
</code></pre></li><li data-source-line="1178" data-source-line-end="1192" data-token-idx="1019"><p data-source-line="1178" data-source-line-end="1179" data-token-idx="1020"><strong>编写测试方法</strong></p><pre data-info="java" data-lang="java" data-source-line="1180" data-source-line-end="1189"><code data-token-idx="1023" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testPage</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//new Page()中的两个参数分别是当前页码，每页显示数量</span>
    Page&lt;User&gt; page = userMapper.selectPage(<span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">Page</span>&lt;&gt;(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>, <span class="hljs-number" style="color: rgb(209, 154, 102);">2</span>), <span class="hljs-literal" style="color: rgb(86, 182, 194);">null</span>);
    List&lt;User&gt; users = page.getRecords();
    users.forEach(System.out::println);
}
</code></pre></li></ul><h2 data-source-line="1192" data-source-line-end="1193" data-token-idx="1026" id="2.%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E9%A1%B5" data-tag="h2">2.自定义分页</h2><blockquote data-source-line="1194" data-source-line-end="1195" data-token-idx="1029"><p data-source-line="1194" data-source-line-end="1195" data-token-idx="1030">上面调用的是MyBatis-Plus提供的带有分页的方法，那么我们自己定义的方法如何实现分页呢？</p></blockquote><ul data-source-line="1196" data-source-line-end="1229" data-token-idx="1034"><li data-source-line="1196" data-source-line-end="1208" data-token-idx="1035"><p data-source-line="1196" data-source-line-end="1197" data-token-idx="1036"><strong>在<code class="copy-inner-text">UserMapper</code>接口中定义一个方法</strong></p><pre data-info="java" data-lang="java" data-source-line="1198" data-source-line-end="1207"><code data-token-idx="1039" class="language-java"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/**
  * 根据年龄查询用户列表，分页显示 
  * <span class="hljs-doctag" style="color: rgb(198, 120, 221);">@param</span> page 分页对象,xml中可以从里面进行取值,传递参数 Page 即自动分页,必须放在第一位 
  * <span class="hljs-doctag" style="color: rgb(198, 120, 221);">@param</span> age 年龄 
  * <span class="hljs-doctag" style="color: rgb(198, 120, 221);">@return</span> 
  */</span>
Page&lt;User&gt; <span class="hljs-title function_" style="color: rgb(97, 174, 238);">selectPageVo</span><span class="hljs-params">(<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param("page")</span> Page&lt;User&gt; page,<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Param("age")</span> Integer age)</span>;
</code></pre></li><li data-source-line="1208" data-source-line-end="1216" data-token-idx="1041"><p data-source-line="1208" data-source-line-end="1209" data-token-idx="1042"><strong>在<code class="copy-inner-text">UserMapper.xml</code>中编写SQL实现该方法</strong></p><pre data-info="xml" data-lang="xml" data-source-line="1210" data-source-line-end="1215"><code data-token-idx="1045" class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">select</span> <span class="hljs-attr" style="color: rgb(209, 154, 102);">id</span>=<span class="hljs-string" style="color: rgb(152, 195, 121);">"selectPageVo"</span> <span class="hljs-attr" style="color: rgb(209, 154, 102);">resultType</span>=<span class="hljs-string" style="color: rgb(152, 195, 121);">"User"</span>&gt;</span>
    select id,username as name,age,email from t_user where age &gt; #{age}
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">select</span>&gt;</span>
</code></pre></li><li data-source-line="1216" data-source-line-end="1229" data-token-idx="1047"><p data-source-line="1216" data-source-line-end="1217" data-token-idx="1048"><strong>编写测试方法</strong></p><pre data-info="java" data-lang="java" data-source-line="1218" data-source-line-end="1226"><code data-token-idx="1051" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testPageVo</span><span class="hljs-params">()</span>{
    Page&lt;User&gt; page = userMapper.selectPageVo(<span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">Page</span>&lt;User&gt;(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>,<span class="hljs-number" style="color: rgb(209, 154, 102);">2</span>), <span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>);
    List&lt;User&gt; users = page.getRecords();
    users.forEach(System.out::println);
}
</code></pre></li></ul><h2 data-source-line="1229" data-source-line-end="1230" data-token-idx="1054" id="3.%E4%B9%90%E8%A7%82%E9%94%81" data-tag="h2">3.乐观锁</h2><blockquote data-source-line="1231" data-source-line-end="1232" data-token-idx="1057"><p data-source-line="1231" data-source-line-end="1232" data-token-idx="1058"><strong>作用：当要更新一条记录的时候，希望这条记录没有被别人更新</strong></p></blockquote><p data-source-line="1233" data-source-line-end="1234" data-token-idx="1062">乐观锁的实现方式：</p><ul data-source-line="1235" data-source-line-end="1242" data-token-idx="1065"><li data-source-line="1235" data-source-line-end="1236" data-token-idx="1066">取出记录时，获取当前 version</li><li data-source-line="1236" data-source-line-end="1237" data-token-idx="1071">更新时，带上这个 version</li><li data-source-line="1237" data-source-line-end="1238" data-token-idx="1076">执行更新时， set version = newVersion where version = oldVersion</li><li data-source-line="1238" data-source-line-end="1242" data-token-idx="1081">如果 version 不对，就更新失败</li></ul><h3 data-source-line="1242" data-source-line-end="1243" data-token-idx="1087" id="3.1-%E5%9C%BA%E6%99%AF" data-tag="h3">3.1	场景</h3><hr data-source-line="1244" data-source-line-end="1245" data-token-idx="1090"><ul data-source-line="1246" data-source-line-end="1252" data-token-idx="1091"><li data-source-line="1246" data-source-line-end="1247" data-token-idx="1092">一件商品，成本价是80元，售价是100元。老板先是通知小李，说你去把商品价格增加50元。小李正在玩游戏，耽搁了一个小时。正好一个小时后，老板觉得商品价格增加到150元，价格太高，可能会影响销量。又通知小王，你把商品价格降低30元。</li><li data-source-line="1247" data-source-line-end="1248" data-token-idx="1097">此时，小李和小王同时操作商品后台系统。小李操作的时候，系统先取出商品价格100元；小王也在操作，取出的商品价格也是100元。小李将价格加了50元，并将100+50=150元存入了数据库；小王将商品减了30元，并将100-30=70元存入了数据库。是的，如果没有锁，小李的操作就完全被小王的覆盖了。</li><li data-source-line="1248" data-source-line-end="1252" data-token-idx="1102">现在商品价格是70元，比成本价低10元。几分钟后，这个商品很快出售了1千多件商品，老板亏1万多。</li></ul><h3 data-source-line="1252" data-source-line-end="1253" data-token-idx="1108" id="3.2-%E4%B9%90%E8%A7%82%E9%94%81%E4%B8%8E%E6%82%B2%E8%A7%82%E9%94%81" data-tag="h3">3.2	乐观锁与悲观锁</h3><hr data-source-line="1254" data-source-line-end="1255" data-token-idx="1111"><ul data-source-line="1256" data-source-line-end="1261" data-token-idx="1112"><li data-source-line="1256" data-source-line-end="1257" data-token-idx="1113">上面的故事，如果是乐观锁，小王保存价格前，会检查下价格是否被人修改过了。如果被修改过了，则重新取出的被修改后的价格，150元，这样他会将120元存入数据库。</li><li data-source-line="1257" data-source-line-end="1261" data-token-idx="1118">如果是悲观锁，小李取出数据后，小王只能等小李操作完之后，才能对价格进行操作，也会保证最终的价格是120元。</li></ul><h3 data-source-line="1261" data-source-line-end="1262" data-token-idx="1124" id="3.3-%E6%A8%A1%E6%8B%9F%E4%BF%AE%E6%94%B9%E5%86%B2%E7%AA%81" data-tag="h3">3.3	模拟修改冲突</h3><hr data-source-line="1263" data-source-line-end="1264" data-token-idx="1127"><ul data-source-line="1265" data-source-line-end="1334" data-token-idx="1128"><li data-source-line="1265" data-source-line-end="1277" data-token-idx="1129"><p data-source-line="1265" data-source-line-end="1266" data-token-idx="1130"><strong>数据库中增加商品表</strong></p><pre data-info="sql" data-lang="sql" data-source-line="1267" data-source-line-end="1276"><code data-token-idx="1133" class="language-sql"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">CREATE</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">TABLE</span> t_product ( 
    id <span class="hljs-type" style="color: rgb(209, 154, 102);">BIGINT</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NOT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'主键ID'</span>, 
    NAME <span class="hljs-type" style="color: rgb(209, 154, 102);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'商品名称'</span>, 
    price <span class="hljs-type" style="color: rgb(209, 154, 102);">INT</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">11</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'价格'</span>, 
    VERSION <span class="hljs-type" style="color: rgb(209, 154, 102);">INT</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">11</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'乐观锁版本号'</span>, 
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">PRIMARY</span> KEY (id) 
);
</code></pre></li><li data-source-line="1277" data-source-line-end="1283" data-token-idx="1135"><p data-source-line="1277" data-source-line-end="1278" data-token-idx="1136"><strong>添加一条数据</strong></p><pre data-info="sql" data-lang="sql" data-source-line="1279" data-source-line-end="1282"><code data-token-idx="1139" class="language-sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t_product (id, NAME, price) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'外星人笔记本'</span>, <span class="hljs-number">100</span>);
</code></pre></li><li data-source-line="1283" data-source-line-end="1295" data-token-idx="1141"><p data-source-line="1283" data-source-line-end="1284" data-token-idx="1142"><strong>添加一个实体类<code class="copy-inner-text">Product</code></strong></p><pre data-info="java" data-lang="java" data-source-line="1285" data-source-line-end="1294"><code data-token-idx="1145" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Data</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">Product</span> {
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer price;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer version;
}
</code></pre></li><li data-source-line="1295" data-source-line-end="1301" data-token-idx="1147"><p data-source-line="1295" data-source-line-end="1296" data-token-idx="1148"><strong>添加一个Mapper接口<code class="copy-inner-text">ProductMapper</code></strong></p><pre data-info="java" data-lang="java" data-source-line="1297" data-source-line-end="1300"><code data-token-idx="1151" class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProductMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseMapper</span>&lt;Product&gt; {}
</code></pre></li><li data-source-line="1301" data-source-line-end="1328" data-token-idx="1153"><p data-source-line="1301" data-source-line-end="1302" data-token-idx="1154"><strong>测试方法</strong></p><pre data-info="java" data-lang="java" data-source-line="1303" data-source-line-end="1327"><code data-token-idx="1157" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testProduct01</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//1.小李获取商品价格</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">productLi</span> <span class="hljs-operator">=</span> productMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"小李获取的商品价格为："</span> + productLi.getPrice());

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//2.小王获取商品价格</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">productWang</span> <span class="hljs-operator">=</span> productMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"小李获取的商品价格为："</span> + productWang.getPrice());

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//3.小李修改商品价格+50</span>
    productLi.setPrice(productLi.getPrice()+<span class="hljs-number" style="color: rgb(209, 154, 102);">50</span>);
    productMapper.updateById(productLi);

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//4.小王修改商品价格-30</span>
    productWang.setPrice(productWang.getPrice()-<span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>);
    productMapper.updateById(productWang);

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//5.老板查询商品价格</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">productBoss</span> <span class="hljs-operator">=</span> productMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"老板获取的商品价格为："</span> + productBoss.getPrice());
}
</code></pre></li><li data-source-line="1328" data-source-line-end="1334" data-token-idx="1159"><p data-source-line="1328" data-source-line-end="1329" data-token-idx="1160"><strong>执行结果</strong></p><p data-source-line="1330" data-source-line-end="1331" data-token-idx="1163"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521225803162.png" alt="image-20220521225803162"></p></li></ul><h3 data-source-line="1334" data-source-line-end="1335" data-token-idx="1168" id="3.4-%E4%B9%90%E8%A7%82%E9%94%81%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98" data-tag="h3">3.4	乐观锁解决问题</h3><hr data-source-line="1336" data-source-line-end="1337" data-token-idx="1171"><ul data-source-line="1338" data-source-line-end="1428" data-token-idx="1172"><li data-source-line="1338" data-source-line-end="1351" data-token-idx="1173"><p data-source-line="1338" data-source-line-end="1339" data-token-idx="1174"><strong>实体类<code class="copy-inner-text">version</code>字段添加注解<code class="copy-inner-text">@Version</code></strong></p><pre data-info="java" data-lang="java" data-source-line="1340" data-source-line-end="1350"><code data-token-idx="1177" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Data</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">Product</span> {
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer price;
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@Version</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer version;
}
</code></pre></li><li data-source-line="1351" data-source-line-end="1365" data-token-idx="1179"><p data-source-line="1351" data-source-line-end="1352" data-token-idx="1180"><strong>添加乐观锁插件配置</strong></p><pre data-info="java" data-lang="java" data-source-line="1353" data-source-line-end="1364"><code data-token-idx="1183" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Bean</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> MybatisPlusInterceptor <span class="hljs-title function_" style="color: rgb(97, 174, 238);">mybatisPlusInterceptor</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">MybatisPlusInterceptor</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">MybatisPlusInterceptor</span>();
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//添加分页插件</span>
    interceptor.addInnerInterceptor(<span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">PaginationInnerInterceptor</span>(DbType.MYSQL));
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//添加乐观锁插件</span>
    interceptor.addInnerInterceptor(<span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">OptimisticLockerInnerInterceptor</span>());
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">return</span> interceptor;
}
</code></pre></li><li data-source-line="1365" data-source-line-end="1391" data-token-idx="1185"><p data-source-line="1365" data-source-line-end="1366" data-token-idx="1186"><strong>再次执行测试方法</strong></p><blockquote data-source-line="1367" data-source-line-end="1390" data-token-idx="1189"><p data-source-line="1367" data-source-line-end="1368" data-token-idx="1190">小李查询商品信息：</p><p data-source-line="1369" data-source-line-end="1370" data-token-idx="1193">​	SELECT id,name,price,version FROM t_product WHERE id=?</p><p data-source-line="1371" data-source-line-end="1372" data-token-idx="1196">小王查询商品信息：</p><p data-source-line="1373" data-source-line-end="1374" data-token-idx="1199">​	SELECT id,name,price,version FROM t_product WHERE id=?</p><p data-source-line="1375" data-source-line-end="1376" data-token-idx="1202">小李修改商品价格，自动将version+1</p><p data-source-line="1377" data-source-line-end="1378" data-token-idx="1205">​	UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?</p><p data-source-line="1379" data-source-line-end="1380" data-token-idx="1208">​	Parameters: 外星人笔记本(String), 150(Integer), 1(Integer), 1(Long), 0(Integer)</p><p data-source-line="1381" data-source-line-end="1382" data-token-idx="1211">小王修改商品价格，此时version已更新，条件不成立，修改失败</p><p data-source-line="1383" data-source-line-end="1384" data-token-idx="1214">​	UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?</p><p data-source-line="1385" data-source-line-end="1386" data-token-idx="1217">​	Parameters: 外星人笔记本(String), 70(Integer), 1(Integer), 1(Long), 0(Integer)</p><p data-source-line="1387" data-source-line-end="1388" data-token-idx="1220">最终，小王修改失败，查询价格：150</p><p data-source-line="1389" data-source-line-end="1390" data-token-idx="1223">​	SELECT id,name,price,version FROM t_product WHERE id=?</p></blockquote></li><li data-source-line="1391" data-source-line-end="1428" data-token-idx="1228"><p data-source-line="1391" data-source-line-end="1392" data-token-idx="1229"><strong>优化执行流程</strong></p><pre data-info="java" data-lang="java" data-source-line="1393" data-source-line-end="1423"><code data-token-idx="1232" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">testProduct01</span><span class="hljs-params">()</span>{
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//1.小李获取商品价格</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">productLi</span> <span class="hljs-operator">=</span> productMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"小李获取的商品价格为："</span> + productLi.getPrice());

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//2.小王获取商品价格</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">productWang</span> <span class="hljs-operator">=</span> productMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"小李获取的商品价格为："</span> + productWang.getPrice());

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//3.小李修改商品价格+50</span>
    productLi.setPrice(productLi.getPrice()+<span class="hljs-number" style="color: rgb(209, 154, 102);">50</span>);
    productMapper.updateById(productLi);

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//4.小王修改商品价格-30</span>
    productWang.setPrice(productWang.getPrice()-<span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> productMapper.updateById(productWang);
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">if</span>(result == <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span>){
        <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//操作失败，重试</span>
        <span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">productNew</span> <span class="hljs-operator">=</span> productMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>);
        productNew.setPrice(productNew.getPrice()-<span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>);
        productMapper.updateById(productNew);
    }

    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//5.老板查询商品价格</span>
    <span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">productBoss</span> <span class="hljs-operator">=</span> productMapper.selectById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"老板获取的商品价格为："</span> + productBoss.getPrice());
}
</code></pre><p data-source-line="1424" data-source-line-end="1425" data-token-idx="1233"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521230448577.png" alt="image-20220521230448577"></p></li></ul><h1 data-source-line="1428" data-source-line-end="1429" data-token-idx="1238" id="%E4%B8%83%E3%80%81%E9%80%9A%E7%94%A8%E6%9E%9A%E4%B8%BE" data-tag="h1">七、通用枚举</h1><blockquote data-source-line="1430" data-source-line-end="1431" data-token-idx="1241"><p data-source-line="1430" data-source-line-end="1431" data-token-idx="1242">表中的有些字段值是固定的，例如性别（男或女），此时我们可以使用MyBatis-Plus的通用枚举来实现</p></blockquote><ul data-source-line="1432" data-source-line-end="1511" data-token-idx="1246"><li data-source-line="1432" data-source-line-end="1436" data-token-idx="1247"><p data-source-line="1432" data-source-line-end="1433" data-token-idx="1248"><strong>数据库表添加字段<code class="copy-inner-text">sex</code></strong></p><p data-source-line="1434" data-source-line-end="1435" data-token-idx="1251"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521231317777.png" alt="image-20220521231317777"></p></li><li data-source-line="1436" data-source-line-end="1455" data-token-idx="1255"><p data-source-line="1436" data-source-line-end="1437" data-token-idx="1256"><strong>创建通用枚举类型</strong></p><pre data-info="java" data-lang="java" data-source-line="1438" data-source-line-end="1454"><code data-token-idx="1259" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Getter</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">enum</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">SexEnum</span> {
    MALE(<span class="hljs-number" style="color: rgb(209, 154, 102);">1</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">"男"</span>),
    FEMALE(<span class="hljs-number" style="color: rgb(209, 154, 102);">2</span>, <span class="hljs-string" style="color: rgb(152, 195, 121);">"女"</span>);

    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@EnumValue</span> <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//将注解所标识的属性的值存储到数据库中</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> sex;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String sexName;

    SexEnum(Integer sex, String sexName) {
        <span class="hljs-built_in" style="color: rgb(230, 192, 123);">this</span>.sex = sex;
        <span class="hljs-built_in" style="color: rgb(230, 192, 123);">this</span>.sexName = sexName;
    }
}
</code></pre></li><li data-source-line="1455" data-source-line-end="1472" data-token-idx="1261"><p data-source-line="1455" data-source-line-end="1456" data-token-idx="1262"><strong>User实体类中添加属性sex</strong></p><pre data-info="java" data-lang="java" data-source-line="1457" data-source-line-end="1471"><code data-token-idx="1265" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span> {
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@TableField("username")</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer age;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String email;

    <span class="hljs-meta" style="color: rgb(97, 174, 238);">@TableLogic</span>
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> isDeleted;  <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//逻辑删除</span>

    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> SexEnum sex;
}
</code></pre></li><li data-source-line="1472" data-source-line-end="1495" data-token-idx="1267"><p data-source-line="1472" data-source-line-end="1473" data-token-idx="1268"><strong>配置扫描通用枚举</strong></p><pre data-info="yml" data-lang="yml" data-source-line="1474" data-source-line-end="1494"><code data-token-idx="1271" class="language-yml"><span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#MyBatis-Plus相关配置</span>
<span class="hljs-attr" style="color: rgb(209, 154, 102);">mybatis-plus:</span>
  <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#指定mapper文件所在的地址</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">mapper-locations:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">classpath:mapper/*.xml</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">configuration:</span>
    <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置日志</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">log-impl:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">org.apache.ibatis.logging.stdout.StdOutImpl</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">global-config:</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">banner:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">off</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">db-config:</span>
      <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置mp的主键策略为自增</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">id-type:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">auto</span>
      <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;"># 设置实体类所对应的表的统一前缀</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">table-prefix:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">t_</span>
  <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">#配置类型别名所对应的包</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">type-aliases-package:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.atguigu.mybatisplus.pojo</span>
  <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;"># 扫描通用枚举的包</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">type-enums-package:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.atguigu.mybatisplus.enums</span>
</code></pre></li><li data-source-line="1495" data-source-line-end="1511" data-token-idx="1273"><p data-source-line="1495" data-source-line-end="1496" data-token-idx="1274"><strong>执行测试方法</strong></p><pre data-info="java" data-lang="java" data-source-line="1497" data-source-line-end="1508"><code data-token-idx="1277" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">test</span><span class="hljs-params">()</span>{
    <span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">new</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span>();
    user.setName(<span class="hljs-string" style="color: rgb(152, 195, 121);">"admin"</span>);
    user.setAge(<span class="hljs-number" style="color: rgb(209, 154, 102);">33</span>);
    user.setSex(SexEnum.MALE);
    <span class="hljs-type" style="color: rgb(209, 154, 102);">int</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">result</span> <span class="hljs-operator">=</span> userMapper.insert(user);
    System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"result:"</span>+result);
}
</code></pre></li></ul><h1 data-source-line="1511" data-source-line-end="1512" data-token-idx="1280" id="%E5%85%AB%E3%80%81%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90" data-tag="h1">八、多数据源</h1><blockquote data-source-line="1513" data-source-line-end="1514" data-token-idx="1283"><p data-source-line="1513" data-source-line-end="1514" data-token-idx="1284">适用于多种场景：纯粹多库、 读写分离、 一主多从、 混合模式等</p></blockquote><p data-source-line="1515" data-source-line-end="1516" data-token-idx="1288">场景说明：</p><p data-source-line="1517" data-source-line-end="1518" data-token-idx="1291">我们创建两个库，分别为：<code class="copy-inner-text">mybatis_plus</code>（以前的库不动）与<code class="copy-inner-text">mybatis_plus_1</code>（新建），将mybatis_plus库的<code class="copy-inner-text">product</code>表移动到mybatis_plus_1库，这样每个库一张表，通过一个测试用例分别获取用户数据与商品数据，如果获取到说明多库模拟成功</p><h2 data-source-line="1521" data-source-line-end="1522" data-token-idx="1294" id="1.%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%8A%E8%A1%A8" data-tag="h2">1.创建数据库及表</h2><ul data-source-line="1523" data-source-line-end="1552" data-token-idx="1297"><li data-source-line="1523" data-source-line-end="1537" data-token-idx="1298"><p data-source-line="1523" data-source-line-end="1524" data-token-idx="1299"><strong>创建数据库<code class="copy-inner-text">mybatis_plus_1</code>和表`product</strong></p><pre data-info="sql" data-lang="sql" data-source-line="1525" data-source-line-end="1536"><code data-token-idx="1302" class="language-sql"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">CREATE</span> DATABASE `mybatis_plus_1` <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span>;
use `mybatis_plus_1`; 
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">CREATE</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">TABLE</span> product ( 
    id <span class="hljs-type" style="color: rgb(209, 154, 102);">BIGINT</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">20</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NOT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'主键ID'</span>, 
    name <span class="hljs-type" style="color: rgb(209, 154, 102);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">30</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">NULL</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'商品名称'</span>, 
    price <span class="hljs-type" style="color: rgb(209, 154, 102);">INT</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">11</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'价格'</span>, 
    version <span class="hljs-type" style="color: rgb(209, 154, 102);">INT</span>(<span class="hljs-number" style="color: rgb(209, 154, 102);">11</span>) <span class="hljs-keyword" style="color: rgb(198, 120, 221);">DEFAULT</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">0</span> COMMENT <span class="hljs-string" style="color: rgb(152, 195, 121);">'乐观锁版本号'</span>, 
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">PRIMARY</span> KEY (id) 
);
</code></pre></li><li data-source-line="1537" data-source-line-end="1543" data-token-idx="1304"><p data-source-line="1537" data-source-line-end="1538" data-token-idx="1305"><strong>添加测试数据</strong></p><pre data-info="sql" data-lang="sql" data-source-line="1539" data-source-line-end="1542"><code data-token-idx="1308" class="language-sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> product (id, NAME, price) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'外星人笔记本'</span>, <span class="hljs-number">100</span>);
</code></pre></li><li data-source-line="1543" data-source-line-end="1552" data-token-idx="1310"><p data-source-line="1543" data-source-line-end="1544" data-token-idx="1311"><strong>删除<code class="copy-inner-text">mybatis_plus</code>库中的<code class="copy-inner-text">product</code>表</strong></p><pre data-info="sql" data-lang="sql" data-source-line="1545" data-source-line-end="1549"><code data-token-idx="1314" class="language-sql">use mybatis_plus; 
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">DROP</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">TABLE</span> IF <span class="hljs-keyword" style="color: rgb(198, 120, 221);">EXISTS</span> product;
</code></pre></li></ul><h2 data-source-line="1552" data-source-line-end="1553" data-token-idx="1317" id="2.%E6%96%B0%E5%BB%BA%E5%B7%A5%E7%A8%8B%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96" data-tag="h2">2.新建工程引入依赖</h2><blockquote data-source-line="1554" data-source-line-end="1555" data-token-idx="1320"><p data-source-line="1554" data-source-line-end="1555" data-token-idx="1321"><strong>自行新建一个Spring Boot工程并选择MySQL驱动及Lombok依赖</strong></p></blockquote><p data-source-line="1556" data-source-line-end="1557" data-token-idx="1325"><strong>引入MyBaits-Plus的依赖及多数据源的依赖</strong></p><pre data-info="xml" data-lang="xml" data-source-line="1558" data-source-line-end="1571"><code data-token-idx="1328" class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>3.5.1<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>dynamic-datasource-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>3.5.0<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
</code></pre><h2 data-source-line="1574" data-source-line-end="1575" data-token-idx="1329" id="3.%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" data-tag="h2">3.编写配置文件</h2><pre data-info="yml" data-lang="yml" data-source-line="1576" data-source-line-end="1597"><code data-token-idx="1332" class="language-yml"><span class="hljs-attr" style="color: rgb(209, 154, 102);">spring:</span>
  <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;"># 配置数据源信息</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">datasource:</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">dynamic:</span>
      <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;"># 设置默认的数据源或者数据源组,默认值即为master</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">primary:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">master</span>
      <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;"># 严格匹配数据源,默认false.true未匹配到指定数据源时抛异常,false使用默认数据源</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">strict:</span> <span class="hljs-literal" style="color: rgb(86, 182, 194);">false</span>
      <span class="hljs-attr" style="color: rgb(209, 154, 102);">datasource:</span>
        <span class="hljs-attr" style="color: rgb(209, 154, 102);">master:</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">url:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">driver-class-name:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.mysql.cj.jdbc.Driver</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">username:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">root</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">password:</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">132537</span>
        <span class="hljs-attr" style="color: rgb(209, 154, 102);">slave_1:</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">url:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">jdbc:mysql://localhost:3306/mybatis_plus_1?characterEncoding=utf-8&amp;useSSL=false</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">driver-class-name:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.mysql.cj.jdbc.Driver</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">username:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">root</span>
          <span class="hljs-attr" style="color: rgb(209, 154, 102);">password:</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">132537</span>
</code></pre><h2 data-source-line="1600" data-source-line-end="1601" data-token-idx="1333" id="4.%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB" data-tag="h2">4.创建实体类</h2><ul data-source-line="1602" data-source-line-end="1628" data-token-idx="1336"><li data-source-line="1602" data-source-line-end="1614" data-token-idx="1337"><p data-source-line="1602" data-source-line-end="1603" data-token-idx="1338">新建一个<code class="copy-inner-text">User</code>实体类（如果数据库表名有t_前缀记得配置）</p><pre data-info="java" data-lang="java" data-source-line="1604" data-source-line-end="1613"><code data-token-idx="1341" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Data</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">User</span> {
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer age;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String email;
}
</code></pre></li><li data-source-line="1614" data-source-line-end="1628" data-token-idx="1343"><p data-source-line="1614" data-source-line-end="1615" data-token-idx="1344">新建一个实体类<code class="copy-inner-text">Product</code></p><pre data-info="java" data-lang="java" data-source-line="1616" data-source-line-end="1625"><code data-token-idx="1347" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@Data</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">Product</span> {
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Long id;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> String name;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer price;
    <span class="hljs-keyword" style="color: rgb(198, 120, 221);">private</span> Integer version;
}
</code></pre></li></ul><h2 data-source-line="1628" data-source-line-end="1629" data-token-idx="1350" id="5.%E5%88%9B%E5%BB%BAmapper%E5%8F%8Aservice" data-tag="h2">5.创建Mapper及Service</h2><ul data-source-line="1630" data-source-line-end="1664" data-token-idx="1353"><li data-source-line="1630" data-source-line-end="1636" data-token-idx="1354"><p data-source-line="1630" data-source-line-end="1631" data-token-idx="1355">新建接口<code class="copy-inner-text">UserMapper</code></p><pre data-info="java" data-lang="java" data-source-line="1632" data-source-line-end="1635"><code data-token-idx="1358" class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseMapper</span>&lt;User&gt; {}
</code></pre></li><li data-source-line="1636" data-source-line-end="1642" data-token-idx="1360"><p data-source-line="1636" data-source-line-end="1637" data-token-idx="1361">新建接口<code class="copy-inner-text">ProductMapper</code></p><pre data-info="java" data-lang="java" data-source-line="1638" data-source-line-end="1641"><code data-token-idx="1364" class="language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProductMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseMapper</span>&lt;Product&gt; {}
</code></pre></li><li data-source-line="1642" data-source-line-end="1649" data-token-idx="1366"><p data-source-line="1642" data-source-line-end="1643" data-token-idx="1367">新建Service接口<code class="copy-inner-text">UserService</code>指定操作的数据源</p><pre data-info="java" data-lang="java" data-source-line="1644" data-source-line-end="1648"><code data-token-idx="1370" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@DS("master")</span> <span class="hljs-comment" style="color: rgb(92, 99, 112); font-style: italic;">//指定操作的数据源，master为user表</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">interface</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">UserService</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">extends</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">IService</span>&lt;User&gt; {}
</code></pre></li><li data-source-line="1649" data-source-line-end="1656" data-token-idx="1372"><p data-source-line="1649" data-source-line-end="1650" data-token-idx="1373">新建Service接口<code class="copy-inner-text">ProductService</code>指定操作的数据源</p><pre data-info="java" data-lang="java" data-source-line="1651" data-source-line-end="1655"><code data-token-idx="1376" class="language-java"><span class="hljs-meta" style="color: rgb(97, 174, 238);">@DS("slave_1")</span>
<span class="hljs-keyword" style="color: rgb(198, 120, 221);">public</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">interface</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">ProductService</span> <span class="hljs-keyword" style="color: rgb(198, 120, 221);">extends</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">IService</span>&lt;Product&gt; {}
</code></pre></li><li data-source-line="1656" data-source-line-end="1664" data-token-idx="1378"><p data-source-line="1656" data-source-line-end="1657" data-token-idx="1379">自行建立Service的实现类</p><pre data-info="java" data-lang="java" data-source-line="1658" data-source-line-end="1661"><code data-token-idx="1382" class="language-java">...
</code></pre></li></ul><h2 data-source-line="1664" data-source-line-end="1665" data-token-idx="1385" id="6.%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95" data-tag="h2">6.编写测试方法</h2><blockquote data-source-line="1666" data-source-line-end="1667" data-token-idx="1388"><p data-source-line="1666" data-source-line-end="1667" data-token-idx="1389"><strong>记得在启动类中添加注解<code class="copy-inner-text">@MapperScan()</code></strong></p></blockquote><pre data-info="java" data-lang="java" data-source-line="1668" data-source-line-end="1686"><code data-token-idx="1393" class="language-java"><span class="hljs-keyword" style="color: rgb(198, 120, 221);">class</span> <span class="hljs-title class_" style="color: rgb(230, 192, 123);">TestDatasourceApplicationTests</span> {
	<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Resource</span>
	UserService userService;

	<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Resource</span>
	ProductService productService;

	<span class="hljs-meta" style="color: rgb(97, 174, 238);">@Test</span>
	<span class="hljs-keyword" style="color: rgb(198, 120, 221);">void</span> <span class="hljs-title function_" style="color: rgb(97, 174, 238);">contextLoads</span><span class="hljs-params">()</span> {
		<span class="hljs-type" style="color: rgb(209, 154, 102);">User</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">user</span> <span class="hljs-operator">=</span> userService.getById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1L</span>);
		<span class="hljs-type" style="color: rgb(209, 154, 102);">Product</span> <span class="hljs-variable" style="color: rgb(209, 154, 102);">product</span> <span class="hljs-operator">=</span> productService.getById(<span class="hljs-number" style="color: rgb(209, 154, 102);">1L</span>);
		System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"User = "</span> + user);
		System.out.println(<span class="hljs-string" style="color: rgb(152, 195, 121);">"Product = "</span> + product);
	}

}
</code></pre><p data-source-line="1687" data-source-line-end="1688" data-token-idx="1394"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522113049945.png" alt="image-20220522113049945"></p><h1 data-source-line="1691" data-source-line-end="1692" data-token-idx="1397" id="%E4%B9%9D%E3%80%81mybatisx%E6%8F%92%E4%BB%B6" data-tag="h1">九、MyBatisX插件</h1><blockquote data-source-line="1693" data-source-line-end="1698" data-token-idx="1400"><p data-source-line="1693" data-source-line-end="1694" data-token-idx="1401">MyBatis-Plus为我们提供了强大的mapper和service模板，能够大大的提高开发效率。</p><p data-source-line="1695" data-source-line-end="1696" data-token-idx="1404">但是在真正开发过程中，MyBatis-Plus并不能为我们解决所有问题，例如一些复杂的SQL，多表联查，我们就需要自己去编写代码和SQL语句，我们该如何快速的解决这个问题呢，这个时候可以使用MyBatisX插件。</p><p data-source-line="1697" data-source-line-end="1698" data-token-idx="1407">MyBatisX一款基于 IDEA 的快速开发插件，为效率而生。</p></blockquote><h2 data-source-line="1701" data-source-line-end="1702" data-token-idx="1411" id="1.%E5%AE%89%E8%A3%85mybatisx%E6%8F%92%E4%BB%B6" data-tag="h2">1.安装MyBatisX插件</h2><blockquote data-source-line="1703" data-source-line-end="1704" data-token-idx="1414"><p data-source-line="1703" data-source-line-end="1704" data-token-idx="1415"><strong>打开IDEA，File-&gt; Setteings-&gt;Plugins-&gt;MyBatisX，搜索栏搜索MyBatisX然后安装。</strong></p></blockquote><p data-source-line="1705" data-source-line-end="1706" data-token-idx="1419"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522115718361.png" alt="image-20220522115718361"></p><h2 data-source-line="1709" data-source-line-end="1710" data-token-idx="1422" id="2.%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81" data-tag="h2">2.快速生成代码</h2><ul data-source-line="1711" data-source-line-end="1765" data-token-idx="1425"><li data-source-line="1711" data-source-line-end="1727" data-token-idx="1426"><p data-source-line="1711" data-source-line-end="1712" data-token-idx="1427">新建一个Spring Boot项目引入依赖（创建工程时记得勾选lombok及mysql驱动）</p><pre data-info="xml" data-lang="xml" data-source-line="1713" data-source-line-end="1726"><code data-token-idx="1430" class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>3.5.1<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>dynamic-datasource-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>3.5.0<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name" style="color: rgb(224, 108, 117);">dependency</span>&gt;</span>
</code></pre></li><li data-source-line="1727" data-source-line-end="1739" data-token-idx="1432"><p data-source-line="1727" data-source-line-end="1728" data-token-idx="1433">配置数据源信息</p><pre data-info="yml" data-lang="yml" data-source-line="1729" data-source-line-end="1738"><code data-token-idx="1436" class="language-yml"><span class="hljs-attr" style="color: rgb(209, 154, 102);">spring:</span>
  <span class="hljs-attr" style="color: rgb(209, 154, 102);">datasource:</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">type:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.zaxxer.hikari.HikariDataSource</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">driver-class-name:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">com.mysql.cj.jdbc.Driver</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">url:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">username:</span> <span class="hljs-string" style="color: rgb(152, 195, 121);">root</span>
    <span class="hljs-attr" style="color: rgb(209, 154, 102);">password:</span> <span class="hljs-number" style="color: rgb(209, 154, 102);">132537</span>
</code></pre></li><li data-source-line="1739" data-source-line-end="1743" data-token-idx="1438"><p data-source-line="1739" data-source-line-end="1740" data-token-idx="1439">在IDEA中与数据库建立链接</p><p data-source-line="1741" data-source-line-end="1742" data-token-idx="1442"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522120758740.png" alt="image-20220522120758740"></p></li><li data-source-line="1743" data-source-line-end="1747" data-token-idx="1446"><p data-source-line="1743" data-source-line-end="1744" data-token-idx="1447">填写数据库信息并保存</p><p data-source-line="1745" data-source-line-end="1746" data-token-idx="1450"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522121434468.png" alt="image-20220522121434468"></p></li><li data-source-line="1747" data-source-line-end="1751" data-token-idx="1454"><p data-source-line="1747" data-source-line-end="1748" data-token-idx="1455">找到我们需要生成的表点击右键</p><p data-source-line="1749" data-source-line-end="1750" data-token-idx="1458"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522121613909.png" alt="image-20220522121613909"></p></li><li data-source-line="1751" data-source-line-end="1755" data-token-idx="1462"><p data-source-line="1751" data-source-line-end="1752" data-token-idx="1463">填写完信息以后下一步</p><p data-source-line="1753" data-source-line-end="1754" data-token-idx="1466"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122127649.png" alt="image-20220522122127649"></p></li><li data-source-line="1755" data-source-line-end="1759" data-token-idx="1470"><p data-source-line="1755" data-source-line-end="1756" data-token-idx="1471">继续填写信息</p><p data-source-line="1757" data-source-line-end="1758" data-token-idx="1474"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122525598.png" alt="image-20220522122525598"></p></li><li data-source-line="1759" data-source-line-end="1765" data-token-idx="1478"><p data-source-line="1759" data-source-line-end="1760" data-token-idx="1479"><strong>大功告成（真特么好用yyds）</strong></p><p data-source-line="1761" data-source-line-end="1762" data-token-idx="1482"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122612334.png" alt="image-20220522122612334"></p></li></ul><h2 data-source-line="1765" data-source-line-end="1766" data-token-idx="1487" id="3.%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90crud" data-tag="h2">3.快速生成CRUD</h2><blockquote data-source-line="1767" data-source-line-end="1768" data-token-idx="1490"><p data-source-line="1767" data-source-line-end="1768" data-token-idx="1491">MyBaitsX可以根据我们在Mapper接口中输入的方法名快速帮我们生成对应的sql语句</p></blockquote><p data-source-line="1769" data-source-line-end="1770" data-token-idx="1495"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522123143852.png" alt="image-20220522123143852"></p><p data-source-line="1771" data-source-line-end="1772" data-token-idx="1498"><img src="https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522123202310.png" alt="image-20220522123202310"></p><h1 data-source-line="1775" data-source-line-end="1776" data-token-idx="1501" id="%E5%8D%81%E3%80%81%E8%87%B4%E8%B0%A2" data-tag="h1">十、致谢</h1><p data-source-line="1777" data-source-line-end="1778" data-token-idx="1504">感谢尚硅谷杨博超老师：<a href="https://www.bilibili.com/video/BV12R4y157Be?p=1" target="_blank">https://www.bilibili.com/video/BV12R4y157Be?p=1</a></p><p data-source-line="1779" data-source-line-end="1780" data-token-idx="1507">感谢MyBatis-Plus作者苞米豆：<a href="https://baomidou.com/" target="_blank">https://baomidou.com/</a></p><p data-source-line="1781" data-source-line-end="1782" data-token-idx="1510">感谢自己又坚持学习了一门课程：<a href="https://www.oz6.cn/" target="_blank">https://www.oz6.cn/</a></p></article>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.3/katex.min.css" rel="stylesheet" />
  </body>
</html>
